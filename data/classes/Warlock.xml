<class>
    <ref>PHB p.106</ref>
    <name>Warlock</name>
    <hitDice>1d8</hitDice>

    <savingThrows>
        <proficiency>Wisdom</proficiency>
        <proficiency>Charisma</proficiency>
    </savingThrows>
    <skills>
        <choose name="skills" number="2">
            <or name="arcana"><proficiency>Arcana</proficiency></or>
            <or name="deception"><proficiency>Deception</proficiency></or>
            <or name="history"><proficiency>History</proficiency></or>
            <or name="intimidation"><proficiency>Intimidation</proficiency></or>
            <or name="investigation"><proficiency>Investigation</proficiency></or>
            <or name="nature"><proficiency>Nature</proficiency></or>
            <or name="religion"><proficiency>Religion</proficiency></or>
        </choose>
    </skills>
    <equipment>
        <item>leather armor</item>
        <choose name="simple_weapon" category="simple weapons"  itemType="WEAPON"/>
        <item count="2">Dagger</item>
        <choose name="weapon">
            <or name="crossbow">
                <item>light crossbow</item>
                <item count="20">crossbow bolt</item>
            </or>
            <or name="simple">
                <choose name="weapon_weapon" category="simple weapons"  itemType="WEAPON"/>
            </or>
        </choose>
        <choose name="magic">
            <or name="pouch">
                <item>Component Pouch</item>
            </or>
            <or name="focus">
                <item>Arcane Focus</item>
            </or>
        </choose>
        <choose name="pack">
            <or name="dungeoneers">
                <item>dungeoneer's pack</item>
            </or>
            <or name="scholars">
                <item>scholar's pack</item>
            </or>
        </choose>
    </equipment>
    <spellCastingStat>charisma</spellCastingStat>
    <multiclassCasterFactor>-1</multiclassCasterFactor>
    <multiclassPrerequisite>charisma>=13</multiclassPrerequisite>
    <level value="1">
        <subclass label="Otherworldly Patron" />
        <cantrips>
            <known>2</known>
        </cantrips>
        <spells>
            <known>2</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="1">1</level>
            </slots>
        </spells>
        <armor>
            <proficiency category="light armor"/>
        </armor>
        <weapons>
            <proficiency category="simple weapons"/>
        </weapons>
    </level>

    <level value="2">
        <spells>
            <known>3</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="1">2</level>
            </slots>
        </spells>
        <choose name="invocations" number="2" title="Choose Two Eldritch Invocations">
            <or name="blast">
                <feature>
                    <name>Agonizing Blast</name>
                    <shortDescription>When you cast Eldritch Blast, add your Charisma modifier to the damage it deals on a hit.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="shadows">
                <feature>
                    <name>Armor of Shadows</name>
                    <shortDescription>You can cast mage armor on yourself (AC= 13 + dexterity modifier) at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Mage Armor</name>
                        <shortDescription>A protective magical force surrounds you until the spell ends, after 8 hours. Your base AC becomes 13 + your Dexterity modifier. The spell ends if you don armor or if you dismiss the spell as an action.</shortDescription>
                        <ac>=13 + dexterityMod</ac>
                        <context>ARMOR_CLASS</context>
                    </effect>
                </feature>
            </or>
            <!-- 9th level
            <or name="ascendant" >
                <feature>
                    <name>Ascendant Step</name>
                    <shortDescription>You can cast levitate on yourself at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Levitate</name>
                        <shortDescription>You rise vertically, up to 20 feet, and remain suspended there for up to 10 minutes. The spell can levitate a target that weighs up to 500 pounds. You can move only by pushing or pulling against a fixed object or surface within reach (such as a wall or a ceiling), which allows you to move as if you were climbing. You can move up or down as part of your move.  When the spell ends, you float gently to the ground if you are still aloft.</shortDescription>
                        <context/>
                    </effect>
                </feature>
            </or>         -->
            <or name="beast">
                <feature>
                    <name>Beast Speech</name>
                    <shortDescription>You can cast speak with animals at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Animals</name>
                        <shortDescription>You have the ability to comprehend and verbally communicate with beasts for the duration. The knowledge and awareness of many beasts is limited by their intelligence, but at minimum, beasts can give you information about nearby locations and monsters, including whatever they can perceive or have perceived within the past day. You might be able to persuade a beast to perform a small favor for you, at the GM’s discretion.</shortDescription>
                        <context>LANGUAGES</context>
                    </effect>
                </feature>
            </or>
            <or name="Influence">
                <feature>
                    <name>Beguiling Influence</name>
                    <shortDescription>You gain proficiency in the Deception and Persuasion skills.</shortDescription>
                    <skills>
                        <proficiency>Deception</proficiency>
                        <proficiency>Persuasion</proficiency>
                    </skills>
                </feature>
            </or>
            <!-- 7th level
            <or name="Whispers">
                <feature>
                    <name>Bewitching Whispers</name>
                    <shortDescription>You can cast compulsion once using a warlock spell slot. You can’t do so again until you finish a long rest</shortDescription>
                    <!- TODO use a spell slot - ->
                    <uses>1</uses>
                    <refreshes>long_rest</refreshes>
                    <effect>
                        <name>Compulsion</name>
                        <shortDescription></shortDescription>
                        <context></context>
                    </effect>
                </feature>
            </or>  -->
            <!-- 3rd level
            <or name="book">
                <feature>
                    <name>Book of Ancient Secrets</name>
                    <shortDescription>Prerequisite: Pact of the Tome feature
                        You can now inscribe magical rituals in your Book of Shadows. Choose two 1st-level spells that have the ritual tag from any class’s spell list (the two needn’t be from the same list). The spells appear in the book and don’t count against the number of spells you know. With your Book of Shadows in hand, you can cast the chosen spells as rituals. You can’t cast the spells except as rituals, unless you’ve learned them by some other means. You can also cast a warlock spell you know as a ritual if it has the ritual tag.
                        On your adventures, you can add other ritual spells to your Book of Shadows. When you find such a spell, you can add it to the book if the spell’s level is equal to or less than half your warlock level (rounded up) and if you can spare the time to transcribe the spell. For each level of the spell, the transcription process takes 2 hours and costs 50 gp for the rare inks needed to inscribe it
                    </shortDescription>
                    <!- TODO do these spells get picked up? ->
                    <!- TODO support runtime adding ritual spells via this feature ->
                    <spells>
                        <spell known="false" ritual="true" maxLevel="1" />
                        <spell known="false" ritual="true" maxLevel="1"/>
                    </spells>
                </feature>
            </or>
            -->
            <!-- 15th level
            <or name="chains">
                <feature>
                    <name>Chains of Carceri</name>
                    <shortDescription>You can cast hold monster at will—targeting a celestial, fiend, or elemental—without expending a spell slot or material components. You must finish a long rest before you can use this invocation on the same creature again.</shortDescription>
                </feature>
            </or>
            -->
            <or name="sight">
                <feature>
                    <name>Devil's Sight</name>
                    <shortDescription>You can see normally in darkness, both magical and nonmagical, to a distance of 120 feet.</shortDescription>
                </feature>
            </or>
            <!-- 7th level
            <or name="word">
                <feature>
                    <name>Dreadful Word</name>
                    <shortDescription>You can cast confusion once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <!- TODO use a spell slot - ->
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                    <effect>
                        <name>Confusion</name>
                        <shortDescription>For up to 1 minute, while concentrating, this spell assaults and twists creatures' minds, spawning delusions and provoking uncontrolled action. Each creature in a 10 foot radius sphere centered on a point you choose within 90 feet must succeed on a Wisdom saving throw against your warlock spell DC (8 + proficiency bonus + charisma modifier) when you cast this spell or be affected by it.
                        An affected target can't take reactions and must roll a d10 at the start of each of its turns to determine its behavior for that turn.
                        d10       Behavior
                         1         The creature uses all its movement to move in a random direction. To determine the direction, roll a d8 and assign a direction to each die face. The creature doesn't take an action this turn.
                         2-6       The creature doesn't move or take actions this turn.
                         7-8       The creature uses its action to make a melee attack against a randomly determined creature within its reach. If there is no creature within its reach, the creature does nothing this turn.
                         9-10      The creature can act and move normally.
                         At the end of each of its turns, an affected target can make a Wisdom saving throw. If it succeeds, this effect ends for the target.
                         Higher Level. When you cast this spell using a spell slot of 5th level, the radius of the sphere increases to 15 feet.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <or name="detect">
                <feature>
                    <name>Eldritch Sight</name>
                    <shortDescription>You can cast detect magic at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Detect Magic</name>
                        <shortDescription>For up to 10 minutes while concentrating, you sense the presence of magic within 30 feet of you. If you sense magic in this way, you can use your action to see a faint aura around any visible creature or object in the area that bears magic, and you learn its school of magic, if any.
                            The spell can penetrate most barriers, but it is blocked by 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood or dirt.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="spear">
                <feature>
                    <name>Eldritch Spear</name>
                    <shortDescription>When you cast Eldritch Blast, its range is 300 feet.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="runekeeper">
                <feature>
                    <name>Eyes of the Rune Keeper</name>
                    <shortDescription>You can read all writing</shortDescription>
                    <context>LANGUAGES</context>
                </feature>
            </or>
            <or name="vigor">
                <feature>
                    <name>Fiendish Vigor</name>
                    <shortDescription>You can cast false life on yourself at will as a 1st-level spell, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>False Life</name>
                        <shortDescription>Bolstering yourself with a necromantic facsimile of life, you gain 1d4 + 4 temporary hit points for an hour.</shortDescription>
                        <!-- TODO add temp hp -->
                        <context>HIT_POINTS</context>
                    </effect>
                    <context>HIT_POINTS</context>
                </feature>
            </or>
            <or name="twominds">
                <feature>
                    <name>Gaze of Two Minds</name>
                    <shortDescription>You can use your action to touch a willing humanoid and perceive through its senses until the end of your next turn. As long as the creature is on the same plane of existence as you, you can use your action on subsequent turns to maintain this connection, extending the duration until the end of your next turn. While perceiving through the other creature’s senses, you benefit from any special senses possessed by that creature, and you are blinded and deafened to your own surroundings.</shortDescription>
                </feature>
            </or>
            <!-- 12th level
            <or name="lifedrinker">
                <feature>
                    <name>Lifedrinker</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Blade	feature
                        When you hit a creature with your pact weapon, the creature takes extra necrotic damage equal to your Charisma modifier (minimum 1).</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            -->
            <or name="manyfaces">
                <feature>
                    <name>Mask of Many Faces</name>
                    <shortDescription>You can use an action and cast Disguise Self at will, without expending a spell slot, which lasts for 1 hour.</shortDescription>
                    <effect>
                        <name>Disguise Self</name>
                        <shortDescription>You make yourself—including your clothing, armor, weapons, and other belongings on your person— look different until the spell ends in 1 hour or until you use your action to dismiss it. You can seem 1 foot shorter or taller and can appear thin, fat, or in between. You can’t change your body type, so you must adopt a form that has the same basic arrangement of limbs. Otherwise, the extent of the illusion is up to you.
                            The changes wrought by this spell fail to hold up to physical inspection. For example, if you use this spell to add a hat to your outfit, objects pass through the hat, and anyone who touches it would feel nothing or would feel your head and hair. If you use this spell to appear thinner than you are, the hand of someone who reaches out to touch you would bump into you while it was seemingly still in midair.
                            To discern that you are disguised, a creature can use its action to inspect your appearance and must succeed on an Intelligence (Investigation) check against your spell save DC (8 + proficiency bonus + charisma modifier).</shortDescription>
                    </effect>
                </feature>
            </or>
            <!--  15th level
            <or name="myriadforms">
                <feature>
                    <name>Master of Myriad Forms</name>
                    <shortDescription>You can spend an action and cast alter self at will, without expending a spell slot, for up to an hour while concentrating.</shortDescription>
                    <effect actionName="Aquatic Adaptation">
                        <name>Aquatic Adaptation</name>
                        <actionDescription>You adapt your body to an aquatic environment.</actionDescription>
                        <shortDescription>For one hour while concentrating, you have sprouted gills and grow webbing between your fingers. You can breathe underwater and gain a swimming speed equal to your walking speed.</shortDescription>
                        <!- TODO handle speed assignment - ->
                        <context>SPEED</context>
                    </effect>
                    <effect actionName="Change Appearance">
                        <name>Changed Appearance</name>
                        <actionDescription>You transform your appearance.</actionDescription>
                        <shortDescription>For one hour while concentrating, you decide what you look like, including your height, weight, facial features, sound of your voice, hair length, coloration, and distinguishing characteristics, if any. You can make yourself appear as a member of another race, though none of your statistics change. You also can’t appear as a creature of a different size than you, and your basic shape stays the same; if you’re bipedal, you can’t use this spell to become quadrupedal, for instance. At any time for the duration of the spell, you can use your action to change your appearance in this way again.</shortDescription>
                        <context></context>
                    </effect>
                    <effect actionName="Natural Weapons">
                        <name>Natural Weapons: $name</name>
                        <id>Natural Weapons</id>
                        <variable name="name" prompt="Choose natural weapon">Claws, Fangs, Spines, Horns, Other</variable>
                        <actionDescription>You grow claws, fangs, spines, or horns.</actionDescription>
                        <shortDescription>For one hour while concentrating, you grow $name. Your unarmed strikes deal 1d6 bludgeoning, piercing, or slashing damage, as appropriate to the natural weapon you chose, and you are proficient with your unarmed strikes. Finally, the natural weapon is magic and you have a +1 bonus to the attack and damage rolls you make using it.</shortDescription>
                        <!- TODO adjust the unarmed strike "weapon" - ->
                        <context>WEAPON_ATTACK</context>
                    </effect>
                </feature>
            </or>
            -->
            <!-- 9th level
            <or name="minions">
                <feature>
                    <name>Minions of Chaos</name>
                    <shortDescription>You can cast conjure elemental once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            -->
            <!-- 5th level
            <or name="miremind">
                <feature>
                    <name>Mire the Mind</name>
                    <shortDescription>You can cast slow once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
             -->
            <or name="mistyvisions">
                <feature>
                    <name>Misty Visions</name>
                    <shortDescription>You can use an action and cast silent image at will, without expending a spell slot or material components, that lasts up to 10 minutes while concentrating.</shortDescription>
                    <effect>
                        <name>Silent Image</name>
                        <shortDescription>You create the image of an object, a creature, or some other visible phenomenon that is no larger than a 15-foot cube. The image appears at a spot within range and lasts for the duration. The image is purely visual; it isn’t accompanied by sound, smell, or other sensory effects.
                            You can use your action to cause the image to move to any spot within range. As the image changes location, you can alter its appearance so that its movements appear natural for the image. For example, if you create an image of a creature and move it, you can alter the image so that it appears to be walking.
                            Physical interaction with the image reveals it to be an illusion, because things can pass through it. A creature that uses its action to examine the image can determine that it is an illusion with a successful Intelligence (Investigation) check against your spell save DC. If a creature discerns the illusion for what it is, the creature can see through the image</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="shadows">
                <!-- 5th level -->
                <feature>
                    <name>One with the Shadows</name>
                    <shortDescription>When you are in an area of dim light or darkness, you can use your action to become invisible until you move or take an action or a reaction.</shortDescription>
                </feature>
            </or>
            <!-- 9th level
            <or name="leap">
                <feature>
                    <name>Otherworldy Leap</name>
                    <shortDescription>You can use your action and cast jump on yourself without expending a spell slot or material components, for 1 minute.</shortDescription>
                    <effect>
                        <name>Jump</name>
                        <shortDescription>Your jump distance is tripled until the spell ends after 1 minute.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <or name="repelling">
                <feature>
                    <name>Repelling Blast</name>
                    <shortDescription>When you hit a creature with eldritch blast, you can push the creature up to 10 feet away from you in a straight line.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <!-- 7th level
            <or name="sculptor">
                <feature>
                    <name>Sculptor of Flesh</name>
                    <shortDescription>You can cast polymorph once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Polymorph</name>
                        <shortDescription>This spell transforms a creature that you can see within range into a new form for up to an hour while concentrating. An unwilling creature must make a Wisdom saving throw to avoid the effect. The spell has no effect on a shapechanger or a creature with 0 hit points.
                            The transformation lasts for the duration, or until the target drops to 0 hit points or dies. The new form can be any beast whose challenge rating is equal to or less than the target’s (or the target’s level, if it doesn’t have a challenge rating). The target’s game statistics, including mental ability scores, are replaced by the statistics of the chosen beast. It retains its alignment and personality.
                            The target assumes the hit points of its new form. When it reverts to its normal form, the creature returns to the number of hit points it had before it transformed. If it reverts as a result of dropping to 0 hit points, any excess damage carries over to its normal form. As long as the excess damage doesn’t reduce the creature’s normal form to 0 hit points, it isn’t knocked unconscious.
                            The creature is limited in the actions it can perform by the nature of its new form, and it can’t speak, cast spells, or take any other action that requires hands or speech.
                            The target’s gear melds into the new form. The creature can’t activate, use, wield, or otherwise benefit from any of its equipment.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                 </feature>
            </or>
            -->
            <!-- 5th level
            <or name="illomen">
                <feature>
                    <name>Sign of Ill Omen</name>
                    <shortDescription>You can use an action and cast bestow curse once using a warlock spell slot. You can’t do so again until you finish a long rest.
                        You touch a creature, and that creature must succeed on a Wisdom saving throw against your spell save DC (8 + proficiency bonus + charisma modifier) or become cursed for the duration of the spell for a minute, while concentrating.
                        A remove curse spell ends this effect. At the GM’s option, you may choose an alternative curse effect, but it should be no more powerful than those described above. The GM has final say on such a curse’s effect.
                        When you cast this spell, choose the nature of the curse from the following:</shortDescription>
                    <effect>
                        <name>Disadvantaged Ability Score: $ability</name>
                        <id>Disadvantaged Ability Score</id>
                        <variable name="ability" prompt="Choose cursed Ability">Strength, Dexterity, Constitution, Wisdom, Intelligence, Charisma</variable>
                        <actionDescription>The target has disadvantage on ability checks and saving throws for a chosen ability.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target is cursed and has disadvantage on ability checks and saving throws made with $ability.</shortDescription>
                    </effect>
                    <effect>
                        <name>Disadvantaged Attack Rolls</name>
                        <actionDescription>The target has disadvantage on attack rolls against you.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the  target has disadvantage on attack rolls against you.</shortDescription>
                    </effect>
                    <effect>
                        <name>Inaction</name>
                        <actionDescription>The target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</shortDescription>
                    </effect>
                    <effect>
                        <name>Extra Damage</name>
                        <actionDescription>Your attacks and spells deal an extra 1d8 necrotic damage to the target.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, your attacks and spells deal an extra 1d8 necrotic damage to the target.</shortDescription>
                        <context>SPELL_CAST,WEAPON_ATTACK</context>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            -->
            <or name="thief">
                <feature>
                    <name>Thief of Five Fates</name>
                    <shortDescription>You can cast bane once using a warlock spell slot. This will cause 3 + spell slot level creatures within 30 feet that fail a Charisma saving throw against your spell casting DC () to subtract a 1d4 from attack rolls and saving throws for up to 1 minute, while concentrating. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Bane</name>
                        <shortDescription>Up to three creatures of your choice that you can see within range must make Charisma saving throws. Whenever a target that fails this saving throw makes an attack roll or a saving throw before the spell ends, the target must roll a d4 and subtract the number rolled from the attack roll or saving throw.
                            At Higher Levels. When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <!-- 5th level
            <or name="thirsting_blade">
                <feature>
                    <name>Thirsting Blade</name>
                    <shortDescription>You can attack with your pact weapon twice, instead of once, whenever you take the Attack action on your turn.</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            -->
            <!-- 15th level
            <or name="DistantRealms">
                <feature>
                    <name>Visions of Distant Realms</name>
                    <shortDescription>You can cast Arcane Eye at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Arcane Eye</name>
                        <shortDescription>You create an invisible, magical eye within range that hovers in the air for the duration.
                            You mentally receive visual information from the eye, which has normal vision and darkvision out to 30 feet. The eye can look in every direction.
                            As an action, you can move the eye up to 30 feet in any direction. There is no limit to how far away from you the eye can move, but it can’t enter another plane of existence. A solid barrier blocks the eye’s movement, but the eye can pass through an opening as small as 1 inch in diameter.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <or name="voiceChainMaster">
                <feature>
                    <name>Voice of the Chain Master</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Chain	feature
                        You can communicate telepathically with your familiar and perceive through your familiar’s senses as long as you are on the same plane of existence. Additionally, while perceiving through your familiar’s senses, you can also speak through your familiar in your own voice, even if your familiar is normally incapable of speech.</shortDescription>
                </feature>
            </or>
            <!-- 9th level
            <or name="whispersGrave">
                <feature>
                    <name>Whispers of the Grave</name>
                    <shortDescription>You can cast Speak with Dead at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Dead</name>
                        <shortDescription>You grant the semblance of life and intelligence to a corpse of your choice within range, allowing it to answer the questions you pose. The corpse must still have a mouth and can’t be undead. The spell fails if the corpse was the target of this spell within the last 10 days.
                            Until the spell ends in 10 minutes, you can ask the corpse up to five questions. The corpse knows only what it knew in life, including the languages it knew. Answers are usually brief, cryptic, or repetitive, and the corpse is under no compulsion to offer a truthful answer if you are hostile to it or it recognizes you as an enemy. This spell doesn’t return the creature’s soul to its body, only its animating spirit. Thus, the corpse can’t learn new information, doesn’t comprehend anything that has happened since it died, and can’t speculate about future events.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <!-- 15th level
            <or name="witchSight">
                <feature>
                    <name>Witch Sight</name>
                    <shortDescription>You can see the true form of any shapechanger or creature concealed by illusion or transmutation magic while the creature is within 30 feet of you and within line of sight.</shortDescription>
                </feature>
            </or>
            -->
        </choose>
    </level>

    <level value="3">
        <spells>
        <known>4</known>
        <slots>
            <refreshes>short rest</refreshes>
            <level value="2">2</level>
        </slots>
        </spells>
        <choose name="pact" title="Choose a Pact Boon">
            <or name="chain">
                <feature>
                    <name>Pact of the Chain</name>
                    <shortDescription>You learn the find familiar spell and can cast it as a ritual. The spell doesn’t count against your number of spells known.
                        When you cast the spell, you can choose one of the normal forms for your familiar or one of the following special forms: imp, pseudodragon, quasit, or sprite.
                        Additionally, when you take the Attack action, you can forgo one of your own attacks to allow your familiar to make one attack of its own with its reaction.</shortDescription>
                </feature>
            </or>
            <or name="blade">
                <feature>
                    <name>Pact of the Blade</name>
                    <shortDescription>You can use your action to create a pact weapon in your empty hand. You can choose the form that this melee weapon takes each time you create it. You are proficient with it while you wield it. This weapon counts as magical for the purpose of overcoming resistance and immunity to nonmagical attacks and damage.
                        Your pact weapon disappears if it is more than 5 feet away from you for 1 minute or more. It also disappears if you use this feature again, if you dismiss the weapon (no action required), or if you die.
                        You can transform one magic weapon into your pact weapon by performing a special ritual while you hold the weapon. You perform the ritual over the course of 1 hour, which can be done during a short rest. You can then dismiss the weapon, shunting it into an extradimensional space, and it appears whenever you create your pact weapon thereafter. You can’t affect an artifact or a sentient weapon in this way. The weapon ceases being your pact weapon if you die, if you perform the 1-hour ritual on a different weapon, or if you use a 1-hour ritual to break your bond to it. The weapon appears at your feet if it is in the extradimensional space when the bond breaks</shortDescription>
                </feature>
            </or>
            <or name="tome">
                <feature>
                    <name>Pact of the Tome</name>
                    <shortDescription>Your patron gives you a grimoire called a Book of Shadows. When you gain this feature, choose three cantrips from any class’s spell list (the three needn’t be from the same list). While the book is on your person, you can cast those cantrips at will. They don’t count against your number of cantrips known. If they don’t appear on the warlock spell list, they are nonetheless warlock spells for you.
                        If you lose your Book of Shadows, you can perform a 1-hour ceremony to receive a replacement from your patron. This ceremony can be performed during a short or long rest, and it destroys the previous book. The book turns to ash when you die.</shortDescription>
                    <!-- TODO does this work -->
                    <cantrips>
                        <cantrip known="false" />
                        <cantrip known="false" />
                        <cantrip known="false" />
                    </cantrips>
                </feature>
            </or>
        </choose>
    </level>

    <level value="4">
        <cantrips>
            <known>3</known>
        </cantrips>
        <spells>
            <known>5</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="2">2</level>
            </slots>
        </spells>
    </level>

    <level value="5">
        <spells>
            <known>6</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="3">2</level>
            </slots>
        </spells>

        <choose name="invocations" number="1" title="Choose an additional Eldritch Invocation">
            <or name="blast">
                <feature>
                    <name>Agonizing Blast</name>
                    <shortDescription>When you cast Eldritch Blast, add your Charisma modifier to the damage it deals on a hit.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="shadows">
                <feature>
                    <name>Armor of Shadows</name>
                    <shortDescription>You can cast mage armor on yourself (AC= 13 + dexterity modifier) at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Mage Armor</name>
                        <shortDescription>A protective magical force surrounds you until the spell ends, after 8 hours. Your base AC becomes 13 + your Dexterity modifier. The spell ends if you don armor or if you dismiss the spell as an action.</shortDescription>
                        <ac>=13 + dexterityMod</ac>
                        <context>ARMOR_CLASS</context>
                    </effect>
                </feature>
            </or>
            <!--  9th level
            <or name="ascendant" >
                <feature>
                    <name>Ascendant Step</name>
                    <shortDescription>You can cast levitate on yourself at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Levitate</name>
                        <shortDescription>You rise vertically, up to 20 feet, and remain suspended there for up to 10 minutes. The spell can levitate a target that weighs up to 500 pounds. You can move only by pushing or pulling against a fixed object or surface within reach (such as a wall or a ceiling), which allows you to move as if you were climbing. You can move up or down as part of your move.  When the spell ends, you float gently to the ground if you are still aloft.</shortDescription>
                        <context/>
                    </effect>
                </feature>
            </or>         -->
            <or name="beast">
                <feature>
                    <name>Beast Speech</name>
                    <shortDescription>You can cast speak with animals at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Animals</name>
                        <shortDescription>You have the ability to comprehend and verbally communicate with beasts for the duration. The knowledge and awareness of many beasts is limited by their intelligence, but at minimum, beasts can give you information about nearby locations and monsters, including whatever they can perceive or have perceived within the past day. You might be able to persuade a beast to perform a small favor for you, at the GM’s discretion.</shortDescription>
                        <context>LANGUAGES</context>
                    </effect>
                </feature>
            </or>
            <or name="Influence">
                <feature>
                    <name>Beguiling Influence</name>
                    <shortDescription>You gain proficiency in the Deception and Persuasion skills.</shortDescription>
                    <skills>
                        <proficiency>Deception</proficiency>
                        <proficiency>Persuasion</proficiency>
                    </skills>
                </feature>
            </or>
            <!-- 7th level
            <or name="Whispers">
                <feature>
                    <name>Bewitching Whispers</name>
                    <shortDescription>You can cast compulsion once using a warlock spell slot. You can’t do so again until you finish a long rest</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <uses>1</uses>
                    <refreshes>long_rest</refreshes>
                    <effect>
                        <name>Compulsion</name>
                        <shortDescription></shortDescription>
                        <context></context>
                    </effect>
                </feature>
            </or>  -->
            <or name="book">
                <!-- 3rd level -->
                <feature>
                    <name>Book of Ancient Secrets</name>
                    <shortDescription>Prerequisite: Pact of the Tome feature
                        You can now inscribe magical rituals in your Book of Shadows. Choose two 1st-level spells that have the ritual tag from any class’s spell list (the two needn’t be from the same list). The spells appear in the book and don’t count against the number of spells you know. With your Book of Shadows in hand, you can cast the chosen spells as rituals. You can’t cast the spells except as rituals, unless you’ve learned them by some other means. You can also cast a warlock spell you know as a ritual if it has the ritual tag.
                        On your adventures, you can add other ritual spells to your Book of Shadows. When you find such a spell, you can add it to the book if the spell’s level is equal to or less than half your warlock level (rounded up) and if you can spare the time to transcribe the spell. For each level of the spell, the transcription process takes 2 hours and costs 50 gp for the rare inks needed to inscribe it
                    </shortDescription>
                </feature>
                <!-- TODO do these spells get picked up? -->
                <spells>
                    <spell known="false" ritual="true" maxLevel="1" />
                    <spell known="false" ritual="true" maxLevel="1"/>
                </spells>

            </or>
            <!-- 15th level
            <or name="chains">
                <feature>
                    <name>Chains of Carceri</name>
                    <shortDescription>You can cast hold monster at will—targeting a celestial, fiend, or elemental—without expending a spell slot or material components. You must finish a long rest before you can use this invocation on the same creature again.</shortDescription>
                </feature>
            </or>
            -->
            <or name="sight">
                <feature>
                    <name>Devil's Sight</name>
                    <shortDescription>You can see normally in darkness, both magical and nonmagical, to a distance of 120 feet.</shortDescription>
                </feature>
            </or>
            <!-- 7th level
            <or name="word">
                <feature>
                    <name>Dreadful Word</name>
                    <shortDescription>You can cast confusion once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                    <effect>
                        <name>Confusion</name>
                        <shortDescription>For up to 1 minute, while concentrating, this spell assaults and twists creatures' minds, spawning delusions and provoking uncontrolled action. Each creature in a 10 foot radius sphere centered on a point you choose within 90 feet must succeed on a Wisdom saving throw against your warlock spell DC (8 + proficiency bonus + charisma modifier) when you cast this spell or be affected by it.
                        An affected target can't take reactions and must roll a d10 at the start of each of its turns to determine its behavior for that turn.
                        d10       Behavior
                         1         The creature uses all its movement to move in a random direction. To determine the direction, roll a d8 and assign a direction to each die face. The creature doesn't take an action this turn.
                         2-6       The creature doesn't move or take actions this turn.
                         7-8       The creature uses its action to make a melee attack against a randomly determined creature within its reach. If there is no creature within its reach, the creature does nothing this turn.
                         9-10      The creature can act and move normally.
                         At the end of each of its turns, an affected target can make a Wisdom saving throw. If it succeeds, this effect ends for the target.
                         Higher Level. When you cast this spell using a spell slot of 5th level, the radius of the sphere increases to 15 feet.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <or name="detect">
                <feature>
                    <name>Eldritch Sight</name>
                    <shortDescription>You can cast detect magic at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Detect Magic</name>
                        <shortDescription>For up to 10 minutes while concentrating, you sense the presence of magic within 30 feet of you. If you sense magic in this way, you can use your action to see a faint aura around any visible creature or object in the area that bears magic, and you learn its school of magic, if any.
                            The spell can penetrate most barriers, but it is blocked by 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood or dirt.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="spear">
                <feature>
                    <name>Eldritch Spear</name>
                    <shortDescription>When you cast Eldritch Blast, its range is 300 feet.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="runekeeper">
                <feature>
                    <name>Eyes of the Rune Keeper</name>
                    <shortDescription>You can read all writing</shortDescription>
                    <context>LANGUAGES</context>
                </feature>
            </or>
            <or name="vigor">
                <feature>
                    <name>Fiendish Vigor</name>
                    <shortDescription>You can cast false life on yourself at will as a 1st-level spell, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>False Life</name>
                        <shortDescription>Bolstering yourself with a necromantic facsimile of life, you gain 1d4 + 4 temporary hit points for an hour.</shortDescription>
                        <!-- TODO add temp hp -->
                        <context>HIT_POINTS</context>
                    </effect>
                    <context>HIT_POINTS</context>
                </feature>
            </or>
            <or name="twominds">
                <feature>
                    <name>Gaze of Two Minds</name>
                    <shortDescription>You can use your action to touch a willing humanoid and perceive through its senses until the end of your next turn. As long as the creature is on the same plane of existence as you, you can use your action on subsequent turns to maintain this connection, extending the duration until the end of your next turn. While perceiving through the other creature’s senses, you benefit from any special senses possessed by that creature, and you are blinded and deafened to your own surroundings.</shortDescription>
                </feature>
            </or>
            <!-- 12th level
            <or name="lifedrinker">
                <feature>
                    <name>Lifedrinker</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Blade	feature
                        When you hit a creature with your pact weapon, the creature takes extra necrotic damage equal to your Charisma modifier (minimum 1).</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            -->
            <or name="manyfaces">
                <feature>
                    <name>Mask of Many Faces</name>
                    <shortDescription>You can use an action and cast Disguise Self at will, without expending a spell slot, which lasts for 1 hour.</shortDescription>
                    <effect>
                        <name>Disguise Self</name>
                        <shortDescription>You make yourself—including your clothing, armor, weapons, and other belongings on your person— look different until the spell ends in 1 hour or until you use your action to dismiss it. You can seem 1 foot shorter or taller and can appear thin, fat, or in between. You can’t change your body type, so you must adopt a form that has the same basic arrangement of limbs. Otherwise, the extent of the illusion is up to you.
                            The changes wrought by this spell fail to hold up to physical inspection. For example, if you use this spell to add a hat to your outfit, objects pass through the hat, and anyone who touches it would feel nothing or would feel your head and hair. If you use this spell to appear thinner than you are, the hand of someone who reaches out to touch you would bump into you while it was seemingly still in midair.
                            To discern that you are disguised, a creature can use its action to inspect your appearance and must succeed on an Intelligence (Investigation) check against your spell save DC (8 + proficiency bonus + charisma modifier).</shortDescription>
                    </effect>
                </feature>
            </or>
            <!--  15th level
            <or name="myriadforms">
                <feature>
                    <name>Master of Myriad Forms</name>
                    <shortDescription>You can spend an action and cast alter self at will, without expending a spell slot, for up to an hour while concentrating.</shortDescription>
                    <effect actionName="Aquatic Adaptation">
                        <name>Aquatic Adaptation</name>
                        <actionDescription>You adapt your body to an aquatic environment.</actionDescription>
                        <shortDescription>For one hour while concentrating, you have sprouted gills and grow webbing between your fingers. You can breathe underwater and gain a swimming speed equal to your walking speed.</shortDescription>
                        <!- TODO handle speed assignment - ->
                        <context>SPEED</context>
                    </effect>
                    <effect actionName="Change Appearance">
                        <name>Changed Appearance</name>
                        <actionDescription>You transform your appearance.</actionDescription>
                        <shortDescription>For one hour while concentrating, you decide what you look like, including your height, weight, facial features, sound of your voice, hair length, coloration, and distinguishing characteristics, if any. You can make yourself appear as a member of another race, though none of your statistics change. You also can’t appear as a creature of a different size than you, and your basic shape stays the same; if you’re bipedal, you can’t use this spell to become quadrupedal, for instance. At any time for the duration of the spell, you can use your action to change your appearance in this way again.</shortDescription>
                        <context></context>
                    </effect>
                    <effect actionName="Natural Weapons">
                        <name>Natural Weapons: $name</name>
                        <id>Natural Weapons</id>
                        <variable name="name" prompt="Choose natural weapon">Claws, Fangs, Spines, Horns, Other</variable>
                        <actionDescription>You grow claws, fangs, spines, or horns.</actionDescription>
                        <shortDescription>For one hour while concentrating, you grow $name. Your unarmed strikes deal 1d6 bludgeoning, piercing, or slashing damage, as appropriate to the natural weapon you chose, and you are proficient with your unarmed strikes. Finally, the natural weapon is magic and you have a +1 bonus to the attack and damage rolls you make using it.</shortDescription>
                        <!- TODO adjust the unarmed strike "weapon" - ->
                        <context>WEAPON_ATTACK</context>
                    </effect>
                </feature>
            </or>
            -->
            <!-- 9th level
            <or name="minions">
                <feature>
                    <name>Minions of Chaos</name>
                    <shortDescription>You can cast conjure elemental once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            -->
            <or name="miremind">
                <!-- 5th level -->
                <feature>
                    <name>Mire the Mind</name>
                    <shortDescription>You can cast slow once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="mistyvisions">
                <feature>
                    <name>Misty Visions</name>
                    <shortDescription>You can use an action and cast silent image at will, without expending a spell slot or material components, that lasts up to 10 minutes while concentrating.</shortDescription>
                    <effect>
                        <name>Silent Image</name>
                        <shortDescription>You create the image of an object, a creature, or some other visible phenomenon that is no larger than a 15-foot cube. The image appears at a spot within range and lasts for the duration. The image is purely visual; it isn’t accompanied by sound, smell, or other sensory effects.
                            You can use your action to cause the image to move to any spot within range. As the image changes location, you can alter its appearance so that its movements appear natural for the image. For example, if you create an image of a creature and move it, you can alter the image so that it appears to be walking.
                            Physical interaction with the image reveals it to be an illusion, because things can pass through it. A creature that uses its action to examine the image can determine that it is an illusion with a successful Intelligence (Investigation) check against your spell save DC. If a creature discerns the illusion for what it is, the creature can see through the image</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="shadows">
                <!-- 5th level -->
                <feature>
                    <name>One with the Shadows</name>
                    <shortDescription>When you are in an area of dim light or darkness, you can use your action to become invisible until you move or take an action or a reaction.</shortDescription>
                </feature>
            </or>
            <!-- 9th level
            <or name="leap">
                <feature>
                    <name>Otherworldy Leap</name>
                    <shortDescription>You can use your action and cast jump on yourself without expending a spell slot or material components, for 1 minute.</shortDescription>
                    <effect>
                        <name>Jump</name>
                        <shortDescription>Your jump distance is tripled until the spell ends after 1 minute.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <or name="repelling">
                <feature>
                    <name>Repelling Blast</name>
                    <shortDescription>When you hit a creature with eldritch blast, you can push the creature up to 10 feet away from you in a straight line.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <!-- 7th level
            <or name="sculptor">
                <feature>
                    <name>Sculptor of Flesh</name>
                    <shortDescription>You can cast polymorph once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Polymorph</name>
                        <shortDescription>This spell transforms a creature that you can see within range into a new form for up to an hour while concentrating. An unwilling creature must make a Wisdom saving throw to avoid the effect. The spell has no effect on a shapechanger or a creature with 0 hit points.
                            The transformation lasts for the duration, or until the target drops to 0 hit points or dies. The new form can be any beast whose challenge rating is equal to or less than the target’s (or the target’s level, if it doesn’t have a challenge rating). The target’s game statistics, including mental ability scores, are replaced by the statistics of the chosen beast. It retains its alignment and personality.
                            The target assumes the hit points of its new form. When it reverts to its normal form, the creature returns to the number of hit points it had before it transformed. If it reverts as a result of dropping to 0 hit points, any excess damage carries over to its normal form. As long as the excess damage doesn’t reduce the creature’s normal form to 0 hit points, it isn’t knocked unconscious.
                            The creature is limited in the actions it can perform by the nature of its new form, and it can’t speak, cast spells, or take any other action that requires hands or speech.
                            The target’s gear melds into the new form. The creature can’t activate, use, wield, or otherwise benefit from any of its equipment.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                 </feature>
            </or>
            -->
            <or name="illomen">
                <!-- 5th level -->
                    <feature>
                        <name>Sign of Ill Omen</name>
                        <shortDescription>You can use an action and cast bestow curse once using a warlock spell slot. You can’t do so again until you finish a long rest.
                            You touch a creature, and that creature must succeed on a Wisdom saving throw against your spell save DC (8 + proficiency bonus + charisma modifier) or become cursed for the duration of the spell for a minute, while concentrating.
                            A remove curse spell ends this effect. At the GM’s option, you may choose an alternative curse effect, but it should be no more powerful than those described above. The GM has final say on such a curse’s effect.
                            When you cast this spell, choose the nature of the curse from the following:</shortDescription>
                        <effect>
                            <name>Disadvantaged Ability Score: $ability</name>
                            <id>Disadvantaged Ability Score</id>
                            <variable name="ability" prompt="Choose cursed Ability">Strength, Dexterity, Constitution, Wisdom, Intelligence, Charisma</variable>
                            <actionDescription>The target has disadvantage on ability checks and saving throws for a chosen ability.</actionDescription>
                            <shortDescription>For 1 minute, while concentrating, the target is cursed and has disadvantage on ability checks and saving throws made with $ability.</shortDescription>
                        </effect>
                        <effect>
                            <name>Disadvantaged Attack Rolls</name>
                            <actionDescription>The target has disadvantage on attack rolls against you.</actionDescription>
                            <shortDescription>For 1 minute, while concentrating, the  target has disadvantage on attack rolls against you.</shortDescription>
                        </effect>
                        <effect>
                            <name>Inaction</name>
                            <actionDescription>The target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</actionDescription>
                            <shortDescription>For 1 minute, while concentrating, the target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</shortDescription>
                        </effect>
                        <effect>
                            <name>Extra Damage</name>
                            <actionDescription>Your attacks and spells deal an extra 1d8 necrotic damage to the target.</actionDescription>
                            <shortDescription>For 1 minute, while concentrating, your attacks and spells deal an extra 1d8 necrotic damage to the target.</shortDescription>
                            <context>SPELL_CAST,WEAPON_ATTACK</context>
                        </effect>
                        <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thief">
                <feature>
                    <name>Thief of Five Fates</name>
                    <shortDescription>You can cast bane once using a warlock spell slot. This will cause 3 + spell slot level creatures within 30 feet that fail a Charisma saving throw against your spell casting DC () to subtract a 1d4 from attack rolls and saving throws for up to 1 minute, while concentrating. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Bane</name>
                        <shortDescription>Up to three creatures of your choice that you can see within range must make Charisma saving throws. Whenever a target that fails this saving throw makes an attack roll or a saving throw before the spell ends, the target must roll a d4 and subtract the number rolled from the attack roll or saving throw.
                            At Higher Levels. When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <!-- 5th level
            <or name="thirsting_blade">
                <feature>
                    <name>Thirsting Blade</name>
                    <shortDescription>You can attack with your pact weapon twice, instead of once, whenever you take the Attack action on your turn.</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            -->
            <!-- 15th level
            <or name="DistantRealms">
                <feature>
                    <name>Visions of Distant Realms</name>
                    <shortDescription>You can cast Arcane Eye at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Arcane Eye</name>
                        <shortDescription>You create an invisible, magical eye within range that hovers in the air for the duration.
                            You mentally receive visual information from the eye, which has normal vision and darkvision out to 30 feet. The eye can look in every direction.
                            As an action, you can move the eye up to 30 feet in any direction. There is no limit to how far away from you the eye can move, but it can’t enter another plane of existence. A solid barrier blocks the eye’s movement, but the eye can pass through an opening as small as 1 inch in diameter.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <or name="voiceChainMaster">
                <feature>
                    <name>Voice of the Chain Master</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Chain	feature
                        You can communicate telepathically with your familiar and perceive through your familiar’s senses as long as you are on the same plane of existence. Additionally, while perceiving through your familiar’s senses, you can also speak through your familiar in your own voice, even if your familiar is normally incapable of speech.</shortDescription>
                </feature>
            </or>
            <!-- 9th level
            <or name="whispersGrave">
                <feature>
                    <name>Whispers of the Grave</name>
                    <shortDescription>You can cast Speak with Dead at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Dead</name>
                        <shortDescription>You grant the semblance of life and intelligence to a corpse of your choice within range, allowing it to answer the questions you pose. The corpse must still have a mouth and can’t be undead. The spell fails if the corpse was the target of this spell within the last 10 days.
                            Until the spell ends in 10 minutes, you can ask the corpse up to five questions. The corpse knows only what it knew in life, including the languages it knew. Answers are usually brief, cryptic, or repetitive, and the corpse is under no compulsion to offer a truthful answer if you are hostile to it or it recognizes you as an enemy. This spell doesn’t return the creature’s soul to its body, only its animating spirit. Thus, the corpse can’t learn new information, doesn’t comprehend anything that has happened since it died, and can’t speculate about future events.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <!-- 15th level
            <or name="witchSight">
                <feature>
                    <name>Witch Sight</name>
                    <shortDescription>You can see the true form of any shapechanger or creature concealed by illusion or transmutation magic while the creature is within 30 feet of you and within line of sight.</shortDescription>
                </feature>
            </or>
            -->
        </choose>


    </level>

    <level value="6">
        <spells>
            <known>7</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="3">2</level>
            </slots>
        </spells>
    </level>

    <level value="7">
        <spells>
            <known>8</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="4">2</level>
            </slots>
        </spells>

        <choose name="invocations" number="1" title="Choose an additional Eldritch Invocation">
            <or name="blast">
                <feature>
                    <name>Agonizing Blast</name>
                    <shortDescription>When you cast Eldritch Blast, add your Charisma modifier to the damage it deals on a hit.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="shadows">
                <feature>
                    <name>Armor of Shadows</name>
                    <shortDescription>You can cast mage armor on yourself (AC= 13 + dexterity modifier) at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Mage Armor</name>
                        <shortDescription>A protective magical force surrounds you until the spell ends, after 8 hours. Your base AC becomes 13 + your Dexterity modifier. The spell ends if you don armor or if you dismiss the spell as an action.</shortDescription>
                        <ac>=13 + dexterityMod</ac>
                        <context>ARMOR_CLASS</context>
                    </effect>
                </feature>
            </or>
            <!-- 9th level
            <or name="ascendant" >
                <feature>
                    <name>Ascendant Step</name>
                    <shortDescription>You can cast levitate on yourself at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Levitate</name>
                        <shortDescription>You rise vertically, up to 20 feet, and remain suspended there for up to 10 minutes. The spell can levitate a target that weighs up to 500 pounds. You can move only by pushing or pulling against a fixed object or surface within reach (such as a wall or a ceiling), which allows you to move as if you were climbing. You can move up or down as part of your move.  When the spell ends, you float gently to the ground if you are still aloft.</shortDescription>
                        <context/>
                    </effect>
                </feature>
            </or>         -->
            <or name="beast">
                <feature>
                    <name>Beast Speech</name>
                    <shortDescription>You can cast speak with animals at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Animals</name>
                        <shortDescription>You have the ability to comprehend and verbally communicate with beasts for the duration. The knowledge and awareness of many beasts is limited by their intelligence, but at minimum, beasts can give you information about nearby locations and monsters, including whatever they can perceive or have perceived within the past day. You might be able to persuade a beast to perform a small favor for you, at the GM’s discretion.</shortDescription>
                        <context>LANGUAGES</context>
                    </effect>
                </feature>
            </or>
            <or name="Influence">
                <feature>
                    <name>Beguiling Influence</name>
                    <shortDescription>You gain proficiency in the Deception and Persuasion skills.</shortDescription>
                    <skills>
                        <proficiency>Deception</proficiency>
                        <proficiency>Persuasion</proficiency>
                    </skills>
                </feature>
            </or>
            <or name="Whispers">
                <!-- 7th level -->
                <feature>
                    <name>Bewitching Whispers</name>
                    <shortDescription>You can cast compulsion once using a warlock spell slot. You can’t do so again until you finish a long rest</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <uses>1</uses>
                    <refreshes>long_rest</refreshes>
                    <effect>
                        <name>Compulsion</name>
                        <shortDescription></shortDescription>
                        <context></context>
                    </effect>
                </feature>
            </or>
            <or name="book">
                <!-- 3rd level -->
                <feature>
                    <name>Book of Ancient Secrets</name>
                    <shortDescription>Prerequisite: Pact of the Tome feature
                        You can now inscribe magical rituals in your Book of Shadows. Choose two 1st-level spells that have the ritual tag from any class’s spell list (the two needn’t be from the same list). The spells appear in the book and don’t count against the number of spells you know. With your Book of Shadows in hand, you can cast the chosen spells as rituals. You can’t cast the spells except as rituals, unless you’ve learned them by some other means. You can also cast a warlock spell you know as a ritual if it has the ritual tag.
                        On your adventures, you can add other ritual spells to your Book of Shadows. When you find such a spell, you can add it to the book if the spell’s level is equal to or less than half your warlock level (rounded up) and if you can spare the time to transcribe the spell. For each level of the spell, the transcription process takes 2 hours and costs 50 gp for the rare inks needed to inscribe it
                    </shortDescription>
                </feature>
                <!-- TODO do these spells get picked up? -->
                <spells>
                    <spell known="false" ritual="true" maxLevel="1" />
                    <spell known="false" ritual="true" maxLevel="1"/>
                </spells>
            </or>
            <!-- 15th level
            <or name="chains">
                <feature>
                    <name>Chains of Carceri</name>
                    <shortDescription>You can cast hold monster at will—targeting a celestial, fiend, or elemental—without expending a spell slot or material components. You must finish a long rest before you can use this invocation on the same creature again.</shortDescription>
                </feature>
            </or>
            -->
            <or name="sight">
                <feature>
                    <name>Devil's Sight</name>
                    <shortDescription>You can see normally in darkness, both magical and nonmagical, to a distance of 120 feet.</shortDescription>
                </feature>
            </or>
            <or name="word">
                <!-- 7th level -->
                <feature>
                    <name>Dreadful Word</name>
                    <shortDescription>You can cast confusion once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                    <effect>
                        <name>Confusion</name>
                        <shortDescription>For up to 1 minute, while concentrating, this spell assaults and twists creatures' minds, spawning delusions and provoking uncontrolled action. Each creature in a 10 foot radius sphere centered on a point you choose within 90 feet must succeed on a Wisdom saving throw against your warlock spell DC (8 + proficiency bonus + charisma modifier) when you cast this spell or be affected by it.
                        An affected target can't take reactions and must roll a d10 at the start of each of its turns to determine its behavior for that turn.
                        d10       Behavior
                         1         The creature uses all its movement to move in a random direction. To determine the direction, roll a d8 and assign a direction to each die face. The creature doesn't take an action this turn.
                         2-6       The creature doesn't move or take actions this turn.
                         7-8       The creature uses its action to make a melee attack against a randomly determined creature within its reach. If there is no creature within its reach, the creature does nothing this turn.
                         9-10      The creature can act and move normally.
                         At the end of each of its turns, an affected target can make a Wisdom saving throw. If it succeeds, this effect ends for the target.
                         Higher Level. When you cast this spell using a spell slot of 5th level, the radius of the sphere increases to 15 feet.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="detect">
                <feature>
                    <name>Eldritch Sight</name>
                    <shortDescription>You can cast detect magic at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Detect Magic</name>
                        <shortDescription>For up to 10 minutes while concentrating, you sense the presence of magic within 30 feet of you. If you sense magic in this way, you can use your action to see a faint aura around any visible creature or object in the area that bears magic, and you learn its school of magic, if any.
                            The spell can penetrate most barriers, but it is blocked by 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood or dirt.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="spear">
                <feature>
                    <name>Eldritch Spear</name>
                    <shortDescription>When you cast Eldritch Blast, its range is 300 feet.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="runekeeper">
                <feature>
                    <name>Eyes of the Rune Keeper</name>
                    <shortDescription>You can read all writing</shortDescription>
                    <context>LANGUAGES</context>
                </feature>
            </or>
            <or name="vigor">
                <feature>
                    <name>Fiendish Vigor</name>
                    <shortDescription>You can cast false life on yourself at will as a 1st-level spell, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>False Life</name>
                        <shortDescription>Bolstering yourself with a necromantic facsimile of life, you gain 1d4 + 4 temporary hit points for an hour.</shortDescription>
                        <!-- TODO add temp hp -->
                        <context>HIT_POINTS</context>
                    </effect>
                    <context>HIT_POINTS</context>
                </feature>
            </or>
            <or name="twominds">
                <feature>
                    <name>Gaze of Two Minds</name>
                    <shortDescription>You can use your action to touch a willing humanoid and perceive through its senses until the end of your next turn. As long as the creature is on the same plane of existence as you, you can use your action on subsequent turns to maintain this connection, extending the duration until the end of your next turn. While perceiving through the other creature’s senses, you benefit from any special senses possessed by that creature, and you are blinded and deafened to your own surroundings.</shortDescription>
                </feature>
            </or>
            <!-- 12th level
            <or name="lifedrinker">
                <feature>
                    <name>Lifedrinker</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Blade	feature
                        When you hit a creature with your pact weapon, the creature takes extra necrotic damage equal to your Charisma modifier (minimum 1).</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            -->
            <or name="manyfaces">
                <feature>
                    <name>Mask of Many Faces</name>
                    <shortDescription>You can use an action and cast Disguise Self at will, without expending a spell slot, which lasts for 1 hour.</shortDescription>
                    <effect>
                        <name>Disguise Self</name>
                        <shortDescription>You make yourself—including your clothing, armor, weapons, and other belongings on your person— look different until the spell ends in 1 hour or until you use your action to dismiss it. You can seem 1 foot shorter or taller and can appear thin, fat, or in between. You can’t change your body type, so you must adopt a form that has the same basic arrangement of limbs. Otherwise, the extent of the illusion is up to you.
                            The changes wrought by this spell fail to hold up to physical inspection. For example, if you use this spell to add a hat to your outfit, objects pass through the hat, and anyone who touches it would feel nothing or would feel your head and hair. If you use this spell to appear thinner than you are, the hand of someone who reaches out to touch you would bump into you while it was seemingly still in midair.
                            To discern that you are disguised, a creature can use its action to inspect your appearance and must succeed on an Intelligence (Investigation) check against your spell save DC (8 + proficiency bonus + charisma modifier).</shortDescription>
                    </effect>
                </feature>
            </or>
            <!-- 15th level
            <or name="myriadforms">
                <feature>
                    <name>Master of Myriad Forms</name>
                    <shortDescription>You can spend an action and cast alter self at will, without expending a spell slot, for up to an hour while concentrating.</shortDescription>
                    <effect actionName="Aquatic Adaptation">
                        <name>Aquatic Adaptation</name>
                        <actionDescription>You adapt your body to an aquatic environment.</actionDescription>
                        <shortDescription>For one hour while concentrating, you have sprouted gills and grow webbing between your fingers. You can breathe underwater and gain a swimming speed equal to your walking speed.</shortDescription>
                        <!- TODO handle speed assignment - ->
                        <context>SPEED</context>
                    </effect>
                    <effect actionName="Change Appearance">
                        <name>Changed Appearance</name>
                        <actionDescription>You transform your appearance.</actionDescription>
                        <shortDescription>For one hour while concentrating, you decide what you look like, including your height, weight, facial features, sound of your voice, hair length, coloration, and distinguishing characteristics, if any. You can make yourself appear as a member of another race, though none of your statistics change. You also can’t appear as a creature of a different size than you, and your basic shape stays the same; if you’re bipedal, you can’t use this spell to become quadrupedal, for instance. At any time for the duration of the spell, you can use your action to change your appearance in this way again.</shortDescription>
                        <context></context>
                    </effect>
                    <effect actionName="Natural Weapons">
                        <name>Natural Weapons: $name</name>
                        <id>Natural Weapons</id>
                        <variable name="name" prompt="Choose natural weapon">Claws, Fangs, Spines, Horns, Other</variable>
                        <actionDescription>You grow claws, fangs, spines, or horns.</actionDescription>
                        <shortDescription>For one hour while concentrating, you grow $name. Your unarmed strikes deal 1d6 bludgeoning, piercing, or slashing damage, as appropriate to the natural weapon you chose, and you are proficient with your unarmed strikes. Finally, the natural weapon is magic and you have a +1 bonus to the attack and damage rolls you make using it.</shortDescription>
                        <!- TODO adjust the unarmed strike "weapon" - ->
                        <context>WEAPON_ATTACK</context>
                    </effect>
                </feature>
            </or>
            -->
            <!-- 9th level
            <or name="minions">
                <feature>
                    <name>Minions of Chaos</name>
                    <shortDescription>You can cast conjure elemental once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            -->
            <or name="miremind">
                <!-- 5th level -->
                <feature>
                    <name>Mire the Mind</name>
                    <shortDescription>You can cast slow once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="mistyvisions">
                <feature>
                    <name>Misty Visions</name>
                    <shortDescription>You can use an action and cast silent image at will, without expending a spell slot or material components, that lasts up to 10 minutes while concentrating.</shortDescription>
                    <effect>
                        <name>Silent Image</name>
                        <shortDescription>You create the image of an object, a creature, or some other visible phenomenon that is no larger than a 15-foot cube. The image appears at a spot within range and lasts for the duration. The image is purely visual; it isn’t accompanied by sound, smell, or other sensory effects.
                            You can use your action to cause the image to move to any spot within range. As the image changes location, you can alter its appearance so that its movements appear natural for the image. For example, if you create an image of a creature and move it, you can alter the image so that it appears to be walking.
                            Physical interaction with the image reveals it to be an illusion, because things can pass through it. A creature that uses its action to examine the image can determine that it is an illusion with a successful Intelligence (Investigation) check against your spell save DC. If a creature discerns the illusion for what it is, the creature can see through the image</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="shadows">
                <!-- 5th level -->
                <feature>
                    <name>One with the Shadows</name>
                    <shortDescription>When you are in an area of dim light or darkness, you can use your action to become invisible until you move or take an action or a reaction.</shortDescription>
                </feature>
            </or>
            <!-- 9th level
            <or name="leap">
                <feature>
                    <name>Otherworldy Leap</name>
                    <shortDescription>You can use your action and cast jump on yourself without expending a spell slot or material components, for 1 minute.</shortDescription>
                    <effect>
                        <name>Jump</name>
                        <shortDescription>Your jump distance is tripled until the spell ends after 1 minute.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <or name="repelling">
                <feature>
                    <name>Repelling Blast</name>
                    <shortDescription>When you hit a creature with eldritch blast, you can push the creature up to 10 feet away from you in a straight line.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="sculptor">
                <!-- 7th level -->
                <feature>
                    <name>Sculptor of Flesh</name>
                    <shortDescription>You can cast polymorph once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Polymorph</name>
                        <shortDescription>This spell transforms a creature that you can see within range into a new form for up to an hour while concentrating. An unwilling creature must make a Wisdom saving throw to avoid the effect. The spell has no effect on a shapechanger or a creature with 0 hit points.
                            The transformation lasts for the duration, or until the target drops to 0 hit points or dies. The new form can be any beast whose challenge rating is equal to or less than the target’s (or the target’s level, if it doesn’t have a challenge rating). The target’s game statistics, including mental ability scores, are replaced by the statistics of the chosen beast. It retains its alignment and personality.
                            The target assumes the hit points of its new form. When it reverts to its normal form, the creature returns to the number of hit points it had before it transformed. If it reverts as a result of dropping to 0 hit points, any excess damage carries over to its normal form. As long as the excess damage doesn’t reduce the creature’s normal form to 0 hit points, it isn’t knocked unconscious.
                            The creature is limited in the actions it can perform by the nature of its new form, and it can’t speak, cast spells, or take any other action that requires hands or speech.
                            The target’s gear melds into the new form. The creature can’t activate, use, wield, or otherwise benefit from any of its equipment.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                 </feature>
            </or>
            <or name="illomen">
                <!-- 5th level -->
                <feature>
                    <name>Sign of Ill Omen</name>
                    <shortDescription>You can use an action and cast bestow curse once using a warlock spell slot. You can’t do so again until you finish a long rest.
                        You touch a creature, and that creature must succeed on a Wisdom saving throw against your spell save DC (8 + proficiency bonus + charisma modifier) or become cursed for the duration of the spell for a minute, while concentrating.
                        A remove curse spell ends this effect. At the GM’s option, you may choose an alternative curse effect, but it should be no more powerful than those described above. The GM has final say on such a curse’s effect.
                        When you cast this spell, choose the nature of the curse from the following:</shortDescription>
                    <effect>
                        <name>Disadvantaged Ability Score: $ability</name>
                        <id>Disadvantaged Ability Score</id>
                        <variable name="ability" prompt="Choose cursed Ability">Strength, Dexterity, Constitution, Wisdom, Intelligence, Charisma</variable>
                        <actionDescription>The target has disadvantage on ability checks and saving throws for a chosen ability.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target is cursed and has disadvantage on ability checks and saving throws made with $ability.</shortDescription>
                    </effect>
                    <effect>
                        <name>Disadvantaged Attack Rolls</name>
                        <actionDescription>The target has disadvantage on attack rolls against you.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the  target has disadvantage on attack rolls against you.</shortDescription>
                    </effect>
                    <effect>
                        <name>Inaction</name>
                        <actionDescription>The target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</shortDescription>
                    </effect>
                    <effect>
                        <name>Extra Damage</name>
                        <actionDescription>Your attacks and spells deal an extra 1d8 necrotic damage to the target.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, your attacks and spells deal an extra 1d8 necrotic damage to the target.</shortDescription>
                        <context>SPELL_CAST,WEAPON_ATTACK</context>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thief">
                <feature>
                    <name>Thief of Five Fates</name>
                    <shortDescription>You can cast bane once using a warlock spell slot. This will cause 3 + spell slot level creatures within 30 feet that fail a Charisma saving throw against your spell casting DC () to subtract a 1d4 from attack rolls and saving throws for up to 1 minute, while concentrating. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Bane</name>
                        <shortDescription>Up to three creatures of your choice that you can see within range must make Charisma saving throws. Whenever a target that fails this saving throw makes an attack roll or a saving throw before the spell ends, the target must roll a d4 and subtract the number rolled from the attack roll or saving throw.
                            At Higher Levels. When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thirsting_blade">
                <!-- 5th level -->
                <feature>
                    <name>Thirsting Blade</name>
                    <shortDescription>Prerequisite: Pact of the Blade
                        You can attack with your pact weapon twice, instead of once, whenever you take the Attack action on your turn.</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            <!-- 15th level
            <or name="DistantRealms">
                <feature>
                    <name>Visions of Distant Realms</name>
                    <shortDescription>You can cast Arcane Eye at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Arcane Eye</name>
                        <shortDescription>You create an invisible, magical eye within range that hovers in the air for the duration.
                            You mentally receive visual information from the eye, which has normal vision and darkvision out to 30 feet. The eye can look in every direction.
                            As an action, you can move the eye up to 30 feet in any direction. There is no limit to how far away from you the eye can move, but it can’t enter another plane of existence. A solid barrier blocks the eye’s movement, but the eye can pass through an opening as small as 1 inch in diameter.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <or name="voiceChainMaster">
                <feature>
                    <name>Voice of the Chain Master</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Chain	feature
                        You can communicate telepathically with your familiar and perceive through your familiar’s senses as long as you are on the same plane of existence. Additionally, while perceiving through your familiar’s senses, you can also speak through your familiar in your own voice, even if your familiar is normally incapable of speech.</shortDescription>
                </feature>
            </or>
            <!-- 9th level
            <or name="whispersGrave">
                <feature>
                    <name>Whispers of the Grave</name>
                    <shortDescription>You can cast Speak with Dead at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Dead</name>
                        <shortDescription>You grant the semblance of life and intelligence to a corpse of your choice within range, allowing it to answer the questions you pose. The corpse must still have a mouth and can’t be undead. The spell fails if the corpse was the target of this spell within the last 10 days.
                            Until the spell ends in 10 minutes, you can ask the corpse up to five questions. The corpse knows only what it knew in life, including the languages it knew. Answers are usually brief, cryptic, or repetitive, and the corpse is under no compulsion to offer a truthful answer if you are hostile to it or it recognizes you as an enemy. This spell doesn’t return the creature’s soul to its body, only its animating spirit. Thus, the corpse can’t learn new information, doesn’t comprehend anything that has happened since it died, and can’t speculate about future events.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <!-- 15th level
            <or name="witchSight">
                <feature>
                    <name>Witch Sight</name>
                    <shortDescription>You can see the true form of any shapechanger or creature concealed by illusion or transmutation magic while the creature is within 30 feet of you and within line of sight.</shortDescription>
                </feature>
            </or>
            -->
        </choose>



    </level>

    <level value="8">
        <spells>
            <known>9</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="4">2</level>
            </slots>
        </spells>
    </level>

    <level value="9">
        <spells>
            <known>10</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="5">2</level>
            </slots>
        </spells>

        <choose name="invocations" number="1" title="Choose an additional Eldritch Invocation">
            <or name="blast">
                <feature>
                    <name>Agonizing Blast</name>
                    <shortDescription>When you cast Eldritch Blast, add your Charisma modifier to the damage it deals on a hit.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="shadows">
                <feature>
                    <name>Armor of Shadows</name>
                    <shortDescription>You can cast mage armor on yourself (AC= 13 + dexterity modifier) at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Mage Armor</name>
                        <shortDescription>A protective magical force surrounds you until the spell ends, after 8 hours. Your base AC becomes 13 + your Dexterity modifier. The spell ends if you don armor or if you dismiss the spell as an action.</shortDescription>
                        <ac>=13 + dexterityMod</ac>
                        <context>ARMOR_CLASS</context>
                    </effect>
                </feature>
            </or>
            <or name="ascendant" >
                <!-- 9th level -->
                <feature>
                    <name>Ascendant Step</name>
                    <shortDescription>You can cast levitate on yourself at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Levitate</name>
                        <shortDescription>You rise vertically, up to 20 feet, and remain suspended there for up to 10 minutes. The spell can levitate a target that weighs up to 500 pounds. You can move only by pushing or pulling against a fixed object or surface within reach (such as a wall or a ceiling), which allows you to move as if you were climbing. You can move up or down as part of your move.  When the spell ends, you float gently to the ground if you are still aloft.</shortDescription>
                        <context/>
                    </effect>
                </feature>
            </or>
            <or name="beast">
                <feature>
                    <name>Beast Speech</name>
                    <shortDescription>You can cast speak with animals at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Animals</name>
                        <shortDescription>You have the ability to comprehend and verbally communicate with beasts for the duration. The knowledge and awareness of many beasts is limited by their intelligence, but at minimum, beasts can give you information about nearby locations and monsters, including whatever they can perceive or have perceived within the past day. You might be able to persuade a beast to perform a small favor for you, at the GM’s discretion.</shortDescription>
                        <context>LANGUAGES</context>
                    </effect>
                </feature>
            </or>
            <or name="Influence">
                <feature>
                    <name>Beguiling Influence</name>
                    <shortDescription>You gain proficiency in the Deception and Persuasion skills.</shortDescription>
                    <skills>
                        <proficiency>Deception</proficiency>
                        <proficiency>Persuasion</proficiency>
                    </skills>
                </feature>
            </or>
            <or name="Whispers">
                <!-- 7th level -->
                <feature>
                    <name>Bewitching Whispers</name>
                    <shortDescription>You can cast compulsion once using a warlock spell slot. You can’t do so again until you finish a long rest</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <uses>1</uses>
                    <refreshes>long_rest</refreshes>
                    <effect>
                        <name>Compulsion</name>
                        <shortDescription></shortDescription>
                        <context></context>
                    </effect>
                </feature>
            </or>
            <or name="book">
                <!-- 3rd level -->
                <feature>
                    <name>Book of Ancient Secrets</name>
                    <shortDescription>Prerequisite: Pact of the Tome feature
                        You can now inscribe magical rituals in your Book of Shadows. Choose two 1st-level spells that have the ritual tag from any class’s spell list (the two needn’t be from the same list). The spells appear in the book and don’t count against the number of spells you know. With your Book of Shadows in hand, you can cast the chosen spells as rituals. You can’t cast the spells except as rituals, unless you’ve learned them by some other means. You can also cast a warlock spell you know as a ritual if it has the ritual tag.
                        On your adventures, you can add other ritual spells to your Book of Shadows. When you find such a spell, you can add it to the book if the spell’s level is equal to or less than half your warlock level (rounded up) and if you can spare the time to transcribe the spell. For each level of the spell, the transcription process takes 2 hours and costs 50 gp for the rare inks needed to inscribe it
                    </shortDescription>
                </feature>
                <!-- TODO do these spells get picked up? -->
                <spells>
                    <spell known="false" ritual="true" maxLevel="1" />
                    <spell known="false" ritual="true" maxLevel="1"/>
                </spells>
            </or>
            <!-- 15th level
            <or name="chains">
                <feature>
                    <name>Chains of Carceri</name>
                    <shortDescription>You can cast hold monster at will—targeting a celestial, fiend, or elemental—without expending a spell slot or material components. You must finish a long rest before you can use this invocation on the same creature again.</shortDescription>
                </feature>
            </or>
            -->
            <or name="sight">
                <feature>
                    <name>Devil's Sight</name>
                    <shortDescription>You can see normally in darkness, both magical and nonmagical, to a distance of 120 feet.</shortDescription>
                </feature>
            </or>
            <or name="word">
                <!-- 7th level -->
                <feature>
                    <name>Dreadful Word</name>
                    <shortDescription>You can cast confusion once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                    <effect>
                        <name>Confusion</name>
                        <shortDescription>For up to 1 minute, while concentrating, this spell assaults and twists creatures' minds, spawning delusions and provoking uncontrolled action. Each creature in a 10 foot radius sphere centered on a point you choose within 90 feet must succeed on a Wisdom saving throw against your warlock spell DC (8 + proficiency bonus + charisma modifier) when you cast this spell or be affected by it.
                            An affected target can't take reactions and must roll a d10 at the start of each of its turns to determine its behavior for that turn.
                            d10       Behavior
                            1         The creature uses all its movement to move in a random direction. To determine the direction, roll a d8 and assign a direction to each die face. The creature doesn't take an action this turn.
                            2-6       The creature doesn't move or take actions this turn.
                            7-8       The creature uses its action to make a melee attack against a randomly determined creature within its reach. If there is no creature within its reach, the creature does nothing this turn.
                            9-10      The creature can act and move normally.
                            At the end of each of its turns, an affected target can make a Wisdom saving throw. If it succeeds, this effect ends for the target.
                            Higher Level. When you cast this spell using a spell slot of 5th level, the radius of the sphere increases to 15 feet.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="detect">
                <feature>
                    <name>Eldritch Sight</name>
                    <shortDescription>You can cast detect magic at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Detect Magic</name>
                        <shortDescription>For up to 10 minutes while concentrating, you sense the presence of magic within 30 feet of you. If you sense magic in this way, you can use your action to see a faint aura around any visible creature or object in the area that bears magic, and you learn its school of magic, if any.
                            The spell can penetrate most barriers, but it is blocked by 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood or dirt.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="spear">
                <feature>
                    <name>Eldritch Spear</name>
                    <shortDescription>When you cast Eldritch Blast, its range is 300 feet.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="runekeeper">
                <feature>
                    <name>Eyes of the Rune Keeper</name>
                    <shortDescription>You can read all writing</shortDescription>
                    <context>LANGUAGES</context>
                </feature>
            </or>
            <or name="vigor">
                <feature>
                    <name>Fiendish Vigor</name>
                    <shortDescription>You can cast false life on yourself at will as a 1st-level spell, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>False Life</name>
                        <shortDescription>Bolstering yourself with a necromantic facsimile of life, you gain 1d4 + 4 temporary hit points for an hour.</shortDescription>
                        <!-- TODO add temp hp -->
                        <context>HIT_POINTS</context>
                    </effect>
                    <context>HIT_POINTS</context>
                </feature>
            </or>
            <or name="twominds">
                <feature>
                    <name>Gaze of Two Minds</name>
                    <shortDescription>You can use your action to touch a willing humanoid and perceive through its senses until the end of your next turn. As long as the creature is on the same plane of existence as you, you can use your action on subsequent turns to maintain this connection, extending the duration until the end of your next turn. While perceiving through the other creature’s senses, you benefit from any special senses possessed by that creature, and you are blinded and deafened to your own surroundings.</shortDescription>
                </feature>
            </or>
            <!-- 12th level
            <or name="lifedrinker">
                <feature>
                    <name>Lifedrinker</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Blade	feature
                        When you hit a creature with your pact weapon, the creature takes extra necrotic damage equal to your Charisma modifier (minimum 1).</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            -->
            <or name="manyfaces">
                <feature>
                    <name>Mask of Many Faces</name>
                    <shortDescription>You can use an action and cast Disguise Self at will, without expending a spell slot, which lasts for 1 hour.</shortDescription>
                    <effect>
                        <name>Disguise Self</name>
                        <shortDescription>You make yourself—including your clothing, armor, weapons, and other belongings on your person— look different until the spell ends in 1 hour or until you use your action to dismiss it. You can seem 1 foot shorter or taller and can appear thin, fat, or in between. You can’t change your body type, so you must adopt a form that has the same basic arrangement of limbs. Otherwise, the extent of the illusion is up to you.
                            The changes wrought by this spell fail to hold up to physical inspection. For example, if you use this spell to add a hat to your outfit, objects pass through the hat, and anyone who touches it would feel nothing or would feel your head and hair. If you use this spell to appear thinner than you are, the hand of someone who reaches out to touch you would bump into you while it was seemingly still in midair.
                            To discern that you are disguised, a creature can use its action to inspect your appearance and must succeed on an Intelligence (Investigation) check against your spell save DC (8 + proficiency bonus + charisma modifier).</shortDescription>
                    </effect>
                </feature>
            </or>
            <!-- 15th level
            <or name="myriadforms">
                <feature>
                    <name>Master of Myriad Forms</name>
                    <shortDescription>You can spend an action and cast alter self at will, without expending a spell slot, for up to an hour while concentrating.</shortDescription>
                    <effect actionName="Aquatic Adaptation">
                        <name>Aquatic Adaptation</name>
                        <actionDescription>You adapt your body to an aquatic environment.</actionDescription>
                        <shortDescription>For one hour while concentrating, you have sprouted gills and grow webbing between your fingers. You can breathe underwater and gain a swimming speed equal to your walking speed.</shortDescription>
                        <!- TODO handle speed assignment - ->
                        <context>SPEED</context>
                    </effect>
                    <effect actionName="Change Appearance">
                        <name>Changed Appearance</name>
                        <actionDescription>You transform your appearance.</actionDescription>
                        <shortDescription>For one hour while concentrating, you decide what you look like, including your height, weight, facial features, sound of your voice, hair length, coloration, and distinguishing characteristics, if any. You can make yourself appear as a member of another race, though none of your statistics change. You also can’t appear as a creature of a different size than you, and your basic shape stays the same; if you’re bipedal, you can’t use this spell to become quadrupedal, for instance. At any time for the duration of the spell, you can use your action to change your appearance in this way again.</shortDescription>
                        <context></context>
                    </effect>
                    <effect actionName="Natural Weapons">
                        <name>Natural Weapons: $name</name>
                        <id>Natural Weapons</id>
                        <variable name="name" prompt="Choose natural weapon">Claws, Fangs, Spines, Horns, Other</variable>
                        <actionDescription>You grow claws, fangs, spines, or horns.</actionDescription>
                        <shortDescription>For one hour while concentrating, you grow $name. Your unarmed strikes deal 1d6 bludgeoning, piercing, or slashing damage, as appropriate to the natural weapon you chose, and you are proficient with your unarmed strikes. Finally, the natural weapon is magic and you have a +1 bonus to the attack and damage rolls you make using it.</shortDescription>
                        <!- TODO adjust the unarmed strike "weapon" - ->
                        <context>WEAPON_ATTACK</context>
                    </effect>
                </feature>
            </or>
            -->
            <or name="minions">
                <!-- 9th level -->
                <feature>
                    <name>Minions of Chaos</name>
                    <shortDescription>You can cast conjure elemental once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="miremind">
                <!-- 5th level -->
                <feature>
                    <name>Mire the Mind</name>
                    <shortDescription>You can cast slow once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="mistyvisions">
                <feature>
                    <name>Misty Visions</name>
                    <shortDescription>You can use an action and cast silent image at will, without expending a spell slot or material components, that lasts up to 10 minutes while concentrating.</shortDescription>
                    <effect>
                        <name>Silent Image</name>
                        <shortDescription>You create the image of an object, a creature, or some other visible phenomenon that is no larger than a 15-foot cube. The image appears at a spot within range and lasts for the duration. The image is purely visual; it isn’t accompanied by sound, smell, or other sensory effects.
                            You can use your action to cause the image to move to any spot within range. As the image changes location, you can alter its appearance so that its movements appear natural for the image. For example, if you create an image of a creature and move it, you can alter the image so that it appears to be walking.
                            Physical interaction with the image reveals it to be an illusion, because things can pass through it. A creature that uses its action to examine the image can determine that it is an illusion with a successful Intelligence (Investigation) check against your spell save DC. If a creature discerns the illusion for what it is, the creature can see through the image</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="shadows">
                <!-- 5th level -->
                <feature>
                    <name>One with the Shadows</name>
                    <shortDescription>When you are in an area of dim light or darkness, you can use your action to become invisible until you move or take an action or a reaction.</shortDescription>
                </feature>
            </or>
            <or name="leap">
                <!-- 9th level -->
                <feature>
                    <name>Otherworldy Leap</name>
                    <shortDescription>You can use your action and cast jump on yourself without expending a spell slot or material components, for 1 minute.</shortDescription>
                    <effect>
                        <name>Jump</name>
                        <shortDescription>Your jump distance is tripled until the spell ends after 1 minute.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="repelling">
                <feature>
                    <name>Repelling Blast</name>
                    <shortDescription>When you hit a creature with eldritch blast, you can push the creature up to 10 feet away from you in a straight line.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="sculptor">
                <!--  7th level -->
                <feature>
                    <name>Sculptor of Flesh</name>
                    <shortDescription>You can cast polymorph once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Polymorph</name>
                        <shortDescription>This spell transforms a creature that you can see within range into a new form for up to an hour while concentrating. An unwilling creature must make a Wisdom saving throw to avoid the effect. The spell has no effect on a shapechanger or a creature with 0 hit points.
                            The transformation lasts for the duration, or until the target drops to 0 hit points or dies. The new form can be any beast whose challenge rating is equal to or less than the target’s (or the target’s level, if it doesn’t have a challenge rating). The target’s game statistics, including mental ability scores, are replaced by the statistics of the chosen beast. It retains its alignment and personality.
                            The target assumes the hit points of its new form. When it reverts to its normal form, the creature returns to the number of hit points it had before it transformed. If it reverts as a result of dropping to 0 hit points, any excess damage carries over to its normal form. As long as the excess damage doesn’t reduce the creature’s normal form to 0 hit points, it isn’t knocked unconscious.
                            The creature is limited in the actions it can perform by the nature of its new form, and it can’t speak, cast spells, or take any other action that requires hands or speech.
                            The target’s gear melds into the new form. The creature can’t activate, use, wield, or otherwise benefit from any of its equipment.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="illomen">
                <!-- 5th level -->
                <feature>
                    <name>Sign of Ill Omen</name>
                    <shortDescription>You can use an action and cast bestow curse once using a warlock spell slot. You can’t do so again until you finish a long rest.
                        You touch a creature, and that creature must succeed on a Wisdom saving throw against your spell save DC (8 + proficiency bonus + charisma modifier) or become cursed for the duration of the spell for a minute, while concentrating.
                        A remove curse spell ends this effect. At the GM’s option, you may choose an alternative curse effect, but it should be no more powerful than those described above. The GM has final say on such a curse’s effect.
                        When you cast this spell, choose the nature of the curse from the following:</shortDescription>
                    <effect>
                        <name>Disadvantaged Ability Score: $ability</name>
                        <id>Disadvantaged Ability Score</id>
                        <variable name="ability" prompt="Choose cursed Ability">Strength, Dexterity, Constitution, Wisdom, Intelligence, Charisma</variable>
                        <actionDescription>The target has disadvantage on ability checks and saving throws for a chosen ability.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target is cursed and has disadvantage on ability checks and saving throws made with $ability.</shortDescription>
                    </effect>
                    <effect>
                        <name>Disadvantaged Attack Rolls</name>
                        <actionDescription>The target has disadvantage on attack rolls against you.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the  target has disadvantage on attack rolls against you.</shortDescription>
                    </effect>
                    <effect>
                        <name>Inaction</name>
                        <actionDescription>The target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</shortDescription>
                    </effect>
                    <effect>
                        <name>Extra Damage</name>
                        <actionDescription>Your attacks and spells deal an extra 1d8 necrotic damage to the target.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, your attacks and spells deal an extra 1d8 necrotic damage to the target.</shortDescription>
                        <context>SPELL_CAST,WEAPON_ATTACK</context>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thief">
                <feature>
                    <name>Thief of Five Fates</name>
                    <shortDescription>You can cast bane once using a warlock spell slot. This will cause 3 + spell slot level creatures within 30 feet that fail a Charisma saving throw against your spell casting DC () to subtract a 1d4 from attack rolls and saving throws for up to 1 minute, while concentrating. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Bane</name>
                        <shortDescription>Up to three creatures of your choice that you can see within range must make Charisma saving throws. Whenever a target that fails this saving throw makes an attack roll or a saving throw before the spell ends, the target must roll a d4 and subtract the number rolled from the attack roll or saving throw.
                            At Higher Levels. When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thirsting_blade">
                <!-- 5th level -->
                <feature>
                    <name>Thirsting Blade</name>
                    <shortDescription>Prerequisite: Pact of the Blade
                        You can attack with your pact weapon twice, instead of once, whenever you take the Attack action on your turn.</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            <!-- 15th level
            <or name="DistantRealms">
                <feature>
                    <name>Visions of Distant Realms</name>
                    <shortDescription>You can cast Arcane Eye at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Arcane Eye</name>
                        <shortDescription>You create an invisible, magical eye within range that hovers in the air for the duration.
                            You mentally receive visual information from the eye, which has normal vision and darkvision out to 30 feet. The eye can look in every direction.
                            As an action, you can move the eye up to 30 feet in any direction. There is no limit to how far away from you the eye can move, but it can’t enter another plane of existence. A solid barrier blocks the eye’s movement, but the eye can pass through an opening as small as 1 inch in diameter.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <or name="voiceChainMaster">
                <feature>
                    <name>Voice of the Chain Master</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Chain	feature
                        You can communicate telepathically with your familiar and perceive through your familiar’s senses as long as you are on the same plane of existence. Additionally, while perceiving through your familiar’s senses, you can also speak through your familiar in your own voice, even if your familiar is normally incapable of speech.</shortDescription>
                </feature>
            </or>
            <or name="whispersGrave">
                <!-- 9th level -->
                <feature>
                    <name>Whispers of the Grave</name>
                    <shortDescription>You can cast Speak with Dead at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Dead</name>
                        <shortDescription>You grant the semblance of life and intelligence to a corpse of your choice within range, allowing it to answer the questions you pose. The corpse must still have a mouth and can’t be undead. The spell fails if the corpse was the target of this spell within the last 10 days.
                            Until the spell ends in 10 minutes, you can ask the corpse up to five questions. The corpse knows only what it knew in life, including the languages it knew. Answers are usually brief, cryptic, or repetitive, and the corpse is under no compulsion to offer a truthful answer if you are hostile to it or it recognizes you as an enemy. This spell doesn’t return the creature’s soul to its body, only its animating spirit. Thus, the corpse can’t learn new information, doesn’t comprehend anything that has happened since it died, and can’t speculate about future events.</shortDescription>
                    </effect>
                </feature>
            </or>
            <!-- 15th level
            <or name="witchSight">
                <feature>
                    <name>Witch Sight</name>
                    <shortDescription>You can see the true form of any shapechanger or creature concealed by illusion or transmutation magic while the creature is within 30 feet of you and within line of sight.</shortDescription>
                </feature>
            </or>
            -->
        </choose>


    </level>

    <level value="10">
        <cantrips>
            <known>3</known>
        </cantrips>
    </level>

    <level value="11">
        <spells>
            <known>11</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="5">3</level>
            </slots>
        </spells>
    </level>


    <level value="12">
        <choose name="invocations" number="1" title="Choose an additional Eldritch Invocation">
            <or name="blast">
                <feature>
                    <name>Agonizing Blast</name>
                    <shortDescription>When you cast Eldritch Blast, add your Charisma modifier to the damage it deals on a hit.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="shadows">
                <feature>
                    <name>Armor of Shadows</name>
                    <shortDescription>You can cast mage armor on yourself (AC= 13 + dexterity modifier) at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Mage Armor</name>
                        <shortDescription>A protective magical force surrounds you until the spell ends, after 8 hours. Your base AC becomes 13 + your Dexterity modifier. The spell ends if you don armor or if you dismiss the spell as an action.</shortDescription>
                        <ac>=13 + dexterityMod</ac>
                        <context>ARMOR_CLASS</context>
                    </effect>
                </feature>
            </or>
            <or name="ascendant" >
                <!-- 9th level -->
                <feature>
                    <name>Ascendant Step</name>
                    <shortDescription>You can cast levitate on yourself at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Levitate</name>
                        <shortDescription>You rise vertically, up to 20 feet, and remain suspended there for up to 10 minutes. The spell can levitate a target that weighs up to 500 pounds. You can move only by pushing or pulling against a fixed object or surface within reach (such as a wall or a ceiling), which allows you to move as if you were climbing. You can move up or down as part of your move.  When the spell ends, you float gently to the ground if you are still aloft.</shortDescription>
                        <context/>
                    </effect>
                </feature>
            </or>
            <or name="beast">
                <feature>
                    <name>Beast Speech</name>
                    <shortDescription>You can cast speak with animals at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Animals</name>
                        <shortDescription>You have the ability to comprehend and verbally communicate with beasts for the duration. The knowledge and awareness of many beasts is limited by their intelligence, but at minimum, beasts can give you information about nearby locations and monsters, including whatever they can perceive or have perceived within the past day. You might be able to persuade a beast to perform a small favor for you, at the GM’s discretion.</shortDescription>
                        <context>LANGUAGES</context>
                    </effect>
                </feature>
            </or>
            <or name="Influence">
                <feature>
                    <name>Beguiling Influence</name>
                    <shortDescription>You gain proficiency in the Deception and Persuasion skills.</shortDescription>
                    <skills>
                        <proficiency>Deception</proficiency>
                        <proficiency>Persuasion</proficiency>
                    </skills>
                </feature>
            </or>
            <or name="Whispers">
                <!-- 7th level -->
                <feature>
                    <name>Bewitching Whispers</name>
                    <shortDescription>You can cast compulsion once using a warlock spell slot. You can’t do so again until you finish a long rest</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <uses>1</uses>
                    <refreshes>long_rest</refreshes>
                    <effect>
                        <name>Compulsion</name>
                        <shortDescription></shortDescription>
                        <context></context>
                    </effect>
                </feature>
            </or>
            <or name="book">
                <!-- 3rd level -->
                <feature>
                    <name>Book of Ancient Secrets</name>
                    <shortDescription>Prerequisite: Pact of the Tome feature
                        You can now inscribe magical rituals in your Book of Shadows. Choose two 1st-level spells that have the ritual tag from any class’s spell list (the two needn’t be from the same list). The spells appear in the book and don’t count against the number of spells you know. With your Book of Shadows in hand, you can cast the chosen spells as rituals. You can’t cast the spells except as rituals, unless you’ve learned them by some other means. You can also cast a warlock spell you know as a ritual if it has the ritual tag.
                        On your adventures, you can add other ritual spells to your Book of Shadows. When you find such a spell, you can add it to the book if the spell’s level is equal to or less than half your warlock level (rounded up) and if you can spare the time to transcribe the spell. For each level of the spell, the transcription process takes 2 hours and costs 50 gp for the rare inks needed to inscribe it
                    </shortDescription>
                </feature>
                <!-- TODO do these spells get picked up? -->
                <spells>
                    <spell known="false" ritual="true" maxLevel="1" />
                    <spell known="false" ritual="true" maxLevel="1"/>
                </spells>
            </or>
            <!-- 15th level
            <or name="chains">
                <feature>
                    <name>Chains of Carceri</name>
                    <shortDescription>You can cast hold monster at will—targeting a celestial, fiend, or elemental—without expending a spell slot or material components. You must finish a long rest before you can use this invocation on the same creature again.</shortDescription>
                </feature>
            </or>
            -->
            <or name="sight">
                <feature>
                    <name>Devil's Sight</name>
                    <shortDescription>You can see normally in darkness, both magical and nonmagical, to a distance of 120 feet.</shortDescription>
                </feature>
            </or>
            <or name="word">
                <!-- 7th level -->
                <feature>
                    <name>Dreadful Word</name>
                    <shortDescription>You can cast confusion once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                    <effect>
                        <name>Confusion</name>
                        <shortDescription>For up to 1 minute, while concentrating, this spell assaults and twists creatures' minds, spawning delusions and provoking uncontrolled action. Each creature in a 10 foot radius sphere centered on a point you choose within 90 feet must succeed on a Wisdom saving throw against your warlock spell DC (8 + proficiency bonus + charisma modifier) when you cast this spell or be affected by it.
                            An affected target can't take reactions and must roll a d10 at the start of each of its turns to determine its behavior for that turn.
                            d10       Behavior
                            1         The creature uses all its movement to move in a random direction. To determine the direction, roll a d8 and assign a direction to each die face. The creature doesn't take an action this turn.
                            2-6       The creature doesn't move or take actions this turn.
                            7-8       The creature uses its action to make a melee attack against a randomly determined creature within its reach. If there is no creature within its reach, the creature does nothing this turn.
                            9-10      The creature can act and move normally.
                            At the end of each of its turns, an affected target can make a Wisdom saving throw. If it succeeds, this effect ends for the target.
                            Higher Level. When you cast this spell using a spell slot of 5th level, the radius of the sphere increases to 15 feet.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="detect">
                <feature>
                    <name>Eldritch Sight</name>
                    <shortDescription>You can cast detect magic at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Detect Magic</name>
                        <shortDescription>For up to 10 minutes while concentrating, you sense the presence of magic within 30 feet of you. If you sense magic in this way, you can use your action to see a faint aura around any visible creature or object in the area that bears magic, and you learn its school of magic, if any.
                            The spell can penetrate most barriers, but it is blocked by 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood or dirt.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="spear">
                <feature>
                    <name>Eldritch Spear</name>
                    <shortDescription>When you cast Eldritch Blast, its range is 300 feet.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="runekeeper">
                <feature>
                    <name>Eyes of the Rune Keeper</name>
                    <shortDescription>You can read all writing</shortDescription>
                    <context>LANGUAGES</context>
                </feature>
            </or>
            <or name="vigor">
                <feature>
                    <name>Fiendish Vigor</name>
                    <shortDescription>You can cast false life on yourself at will as a 1st-level spell, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>False Life</name>
                        <shortDescription>Bolstering yourself with a necromantic facsimile of life, you gain 1d4 + 4 temporary hit points for an hour.</shortDescription>
                        <!-- TODO add temp hp -->
                        <context>HIT_POINTS</context>
                    </effect>
                    <context>HIT_POINTS</context>
                </feature>
            </or>
            <or name="twominds">
                <feature>
                    <name>Gaze of Two Minds</name>
                    <shortDescription>You can use your action to touch a willing humanoid and perceive through its senses until the end of your next turn. As long as the creature is on the same plane of existence as you, you can use your action on subsequent turns to maintain this connection, extending the duration until the end of your next turn. While perceiving through the other creature’s senses, you benefit from any special senses possessed by that creature, and you are blinded and deafened to your own surroundings.</shortDescription>
                </feature>
            </or>
            <or name="lifedrinker">
                <!-- 12th level -->
                <feature>
                    <name>Lifedrinker</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Blade	feature
                        When you hit a creature with your pact weapon, the creature takes extra necrotic damage equal to your Charisma modifier (minimum 1).</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            <or name="manyfaces">
                <feature>
                    <name>Mask of Many Faces</name>
                    <shortDescription>You can use an action and cast Disguise Self at will, without expending a spell slot, which lasts for 1 hour.</shortDescription>
                    <effect>
                        <name>Disguise Self</name>
                        <shortDescription>You make yourself—including your clothing, armor, weapons, and other belongings on your person— look different until the spell ends in 1 hour or until you use your action to dismiss it. You can seem 1 foot shorter or taller and can appear thin, fat, or in between. You can’t change your body type, so you must adopt a form that has the same basic arrangement of limbs. Otherwise, the extent of the illusion is up to you.
                            The changes wrought by this spell fail to hold up to physical inspection. For example, if you use this spell to add a hat to your outfit, objects pass through the hat, and anyone who touches it would feel nothing or would feel your head and hair. If you use this spell to appear thinner than you are, the hand of someone who reaches out to touch you would bump into you while it was seemingly still in midair.
                            To discern that you are disguised, a creature can use its action to inspect your appearance and must succeed on an Intelligence (Investigation) check against your spell save DC (8 + proficiency bonus + charisma modifier).</shortDescription>
                    </effect>
                </feature>
            </or>
            <!-- 15th level
            <or name="myriadforms">
                <feature>
                    <name>Master of Myriad Forms</name>
                    <shortDescription>You can spend an action and cast alter self at will, without expending a spell slot, for up to an hour while concentrating.</shortDescription>
                    <effect actionName="Aquatic Adaptation">
                        <name>Aquatic Adaptation</name>
                        <actionDescription>You adapt your body to an aquatic environment.</actionDescription>
                        <shortDescription>For one hour while concentrating, you have sprouted gills and grow webbing between your fingers. You can breathe underwater and gain a swimming speed equal to your walking speed.</shortDescription>
                        <!- TODO handle speed assignment - ->
                        <context>SPEED</context>
                    </effect>
                    <effect actionName="Change Appearance">
                        <name>Changed Appearance</name>
                        <actionDescription>You transform your appearance.</actionDescription>
                        <shortDescription>For one hour while concentrating, you decide what you look like, including your height, weight, facial features, sound of your voice, hair length, coloration, and distinguishing characteristics, if any. You can make yourself appear as a member of another race, though none of your statistics change. You also can’t appear as a creature of a different size than you, and your basic shape stays the same; if you’re bipedal, you can’t use this spell to become quadrupedal, for instance. At any time for the duration of the spell, you can use your action to change your appearance in this way again.</shortDescription>
                        <context></context>
                    </effect>
                    <effect actionName="Natural Weapons">
                        <name>Natural Weapons: $name</name>
                        <id>Natural Weapons</id>
                        <variable name="name" prompt="Choose natural weapon">Claws, Fangs, Spines, Horns, Other</variable>
                        <actionDescription>You grow claws, fangs, spines, or horns.</actionDescription>
                        <shortDescription>For one hour while concentrating, you grow $name. Your unarmed strikes deal 1d6 bludgeoning, piercing, or slashing damage, as appropriate to the natural weapon you chose, and you are proficient with your unarmed strikes. Finally, the natural weapon is magic and you have a +1 bonus to the attack and damage rolls you make using it.</shortDescription>
                        <!- TODO adjust the unarmed strike "weapon" - ->
                        <context>WEAPON_ATTACK</context>
                    </effect>
                </feature>
            </or>
            -->
            <or name="minions">
                <!-- 9th level -->
                <feature>
                    <name>Minions of Chaos</name>
                    <shortDescription>You can cast conjure elemental once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="miremind">
                <!-- 5th level -->
                <feature>
                    <name>Mire the Mind</name>
                    <shortDescription>You can cast slow once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="mistyvisions">
                <feature>
                    <name>Misty Visions</name>
                    <shortDescription>You can use an action and cast silent image at will, without expending a spell slot or material components, that lasts up to 10 minutes while concentrating.</shortDescription>
                    <effect>
                        <name>Silent Image</name>
                        <shortDescription>You create the image of an object, a creature, or some other visible phenomenon that is no larger than a 15-foot cube. The image appears at a spot within range and lasts for the duration. The image is purely visual; it isn’t accompanied by sound, smell, or other sensory effects.
                            You can use your action to cause the image to move to any spot within range. As the image changes location, you can alter its appearance so that its movements appear natural for the image. For example, if you create an image of a creature and move it, you can alter the image so that it appears to be walking.
                            Physical interaction with the image reveals it to be an illusion, because things can pass through it. A creature that uses its action to examine the image can determine that it is an illusion with a successful Intelligence (Investigation) check against your spell save DC. If a creature discerns the illusion for what it is, the creature can see through the image</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="shadows">
                <!-- 5th level -->
                <feature>
                    <name>One with the Shadows</name>
                    <shortDescription>When you are in an area of dim light or darkness, you can use your action to become invisible until you move or take an action or a reaction.</shortDescription>
                </feature>
            </or>
            <or name="leap">
                <!-- 9th level -->
                <feature>
                    <name>Otherworldy Leap</name>
                    <shortDescription>You can use your action and cast jump on yourself without expending a spell slot or material components, for 1 minute.</shortDescription>
                    <effect>
                        <name>Jump</name>
                        <shortDescription>Your jump distance is tripled until the spell ends after 1 minute.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="repelling">
                <feature>
                    <name>Repelling Blast</name>
                    <shortDescription>When you hit a creature with eldritch blast, you can push the creature up to 10 feet away from you in a straight line.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="sculptor">
                <!--  7th level -->
                <feature>
                    <name>Sculptor of Flesh</name>
                    <shortDescription>You can cast polymorph once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Polymorph</name>
                        <shortDescription>This spell transforms a creature that you can see within range into a new form for up to an hour while concentrating. An unwilling creature must make a Wisdom saving throw to avoid the effect. The spell has no effect on a shapechanger or a creature with 0 hit points.
                            The transformation lasts for the duration, or until the target drops to 0 hit points or dies. The new form can be any beast whose challenge rating is equal to or less than the target’s (or the target’s level, if it doesn’t have a challenge rating). The target’s game statistics, including mental ability scores, are replaced by the statistics of the chosen beast. It retains its alignment and personality.
                            The target assumes the hit points of its new form. When it reverts to its normal form, the creature returns to the number of hit points it had before it transformed. If it reverts as a result of dropping to 0 hit points, any excess damage carries over to its normal form. As long as the excess damage doesn’t reduce the creature’s normal form to 0 hit points, it isn’t knocked unconscious.
                            The creature is limited in the actions it can perform by the nature of its new form, and it can’t speak, cast spells, or take any other action that requires hands or speech.
                            The target’s gear melds into the new form. The creature can’t activate, use, wield, or otherwise benefit from any of its equipment.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="illomen">
                <!-- 5th level -->
                <feature>
                    <name>Sign of Ill Omen</name>
                    <shortDescription>You can use an action and cast bestow curse once using a warlock spell slot. You can’t do so again until you finish a long rest.
                        You touch a creature, and that creature must succeed on a Wisdom saving throw against your spell save DC (8 + proficiency bonus + charisma modifier) or become cursed for the duration of the spell for a minute, while concentrating.
                        A remove curse spell ends this effect. At the GM’s option, you may choose an alternative curse effect, but it should be no more powerful than those described above. The GM has final say on such a curse’s effect.
                        When you cast this spell, choose the nature of the curse from the following:</shortDescription>
                    <effect>
                        <name>Disadvantaged Ability Score: $ability</name>
                        <id>Disadvantaged Ability Score</id>
                        <variable name="ability" prompt="Choose cursed Ability">Strength, Dexterity, Constitution, Wisdom, Intelligence, Charisma</variable>
                        <actionDescription>The target has disadvantage on ability checks and saving throws for a chosen ability.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target is cursed and has disadvantage on ability checks and saving throws made with $ability.</shortDescription>
                    </effect>
                    <effect>
                        <name>Disadvantaged Attack Rolls</name>
                        <actionDescription>The target has disadvantage on attack rolls against you.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the  target has disadvantage on attack rolls against you.</shortDescription>
                    </effect>
                    <effect>
                        <name>Inaction</name>
                        <actionDescription>The target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</shortDescription>
                    </effect>
                    <effect>
                        <name>Extra Damage</name>
                        <actionDescription>Your attacks and spells deal an extra 1d8 necrotic damage to the target.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, your attacks and spells deal an extra 1d8 necrotic damage to the target.</shortDescription>
                        <context>SPELL_CAST,WEAPON_ATTACK</context>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thief">
                <feature>
                    <name>Thief of Five Fates</name>
                    <shortDescription>You can cast bane once using a warlock spell slot. This will cause 3 + spell slot level creatures within 30 feet that fail a Charisma saving throw against your spell casting DC () to subtract a 1d4 from attack rolls and saving throws for up to 1 minute, while concentrating. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Bane</name>
                        <shortDescription>Up to three creatures of your choice that you can see within range must make Charisma saving throws. Whenever a target that fails this saving throw makes an attack roll or a saving throw before the spell ends, the target must roll a d4 and subtract the number rolled from the attack roll or saving throw.
                            At Higher Levels. When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thirsting_blade">
                <!-- 5th level -->
                <feature>
                    <name>Thirsting Blade</name>
                    <shortDescription>Prerequisite: Pact of the Blade
                        You can attack with your pact weapon twice, instead of once, whenever you take the Attack action on your turn.</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            <!-- 15th level
            <or name="DistantRealms">
                <feature>
                    <name>Visions of Distant Realms</name>
                    <shortDescription>You can cast Arcane Eye at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Arcane Eye</name>
                        <shortDescription>You create an invisible, magical eye within range that hovers in the air for the duration.
                            You mentally receive visual information from the eye, which has normal vision and darkvision out to 30 feet. The eye can look in every direction.
                            As an action, you can move the eye up to 30 feet in any direction. There is no limit to how far away from you the eye can move, but it can’t enter another plane of existence. A solid barrier blocks the eye’s movement, but the eye can pass through an opening as small as 1 inch in diameter.</shortDescription>
                    </effect>
                </feature>
            </or>
            -->
            <or name="voiceChainMaster">
                <feature>
                    <name>Voice of the Chain Master</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Chain	feature
                        You can communicate telepathically with your familiar and perceive through your familiar’s senses as long as you are on the same plane of existence. Additionally, while perceiving through your familiar’s senses, you can also speak through your familiar in your own voice, even if your familiar is normally incapable of speech.</shortDescription>
                </feature>
            </or>
            <or name="whispersGrave">
                <!-- 9th level -->
                <feature>
                    <name>Whispers of the Grave</name>
                    <shortDescription>You can cast Speak with Dead at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Dead</name>
                        <shortDescription>You grant the semblance of life and intelligence to a corpse of your choice within range, allowing it to answer the questions you pose. The corpse must still have a mouth and can’t be undead. The spell fails if the corpse was the target of this spell within the last 10 days.
                            Until the spell ends in 10 minutes, you can ask the corpse up to five questions. The corpse knows only what it knew in life, including the languages it knew. Answers are usually brief, cryptic, or repetitive, and the corpse is under no compulsion to offer a truthful answer if you are hostile to it or it recognizes you as an enemy. This spell doesn’t return the creature’s soul to its body, only its animating spirit. Thus, the corpse can’t learn new information, doesn’t comprehend anything that has happened since it died, and can’t speculate about future events.</shortDescription>
                    </effect>
                </feature>
            </or>
            <!-- 15th level
            <or name="witchSight">
                <feature>
                    <name>Witch Sight</name>
                    <shortDescription>You can see the true form of any shapechanger or creature concealed by illusion or transmutation magic while the creature is within 30 feet of you and within line of sight.</shortDescription>
                </feature>
            </or>
            -->
        </choose>

    </level>

    <level value="13">
        <spells>
            <known>12</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="5">3</level>
            </slots>
        </spells>
    </level>

    <level value="15">
        <spells>
            <known>13</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="5">3</level>
            </slots>
        </spells>

        <choose name="invocations" number="1" title="Choose an additional Eldritch Invocation">
            <or name="blast">
                <feature>
                    <name>Agonizing Blast</name>
                    <shortDescription>When you cast Eldritch Blast, add your Charisma modifier to the damage it deals on a hit.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="shadows">
                <feature>
                    <name>Armor of Shadows</name>
                    <shortDescription>You can cast mage armor on yourself (AC= 13 + dexterity modifier) at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Mage Armor</name>
                        <shortDescription>A protective magical force surrounds you until the spell ends, after 8 hours. Your base AC becomes 13 + your Dexterity modifier. The spell ends if you don armor or if you dismiss the spell as an action.</shortDescription>
                        <ac>=13 + dexterityMod</ac>
                        <context>ARMOR_CLASS</context>
                    </effect>
                </feature>
            </or>
            <or name="ascendant" >
                <!-- 9th level -->
                <feature>
                    <name>Ascendant Step</name>
                    <shortDescription>You can cast levitate on yourself at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Levitate</name>
                        <shortDescription>You rise vertically, up to 20 feet, and remain suspended there for up to 10 minutes. The spell can levitate a target that weighs up to 500 pounds. You can move only by pushing or pulling against a fixed object or surface within reach (such as a wall or a ceiling), which allows you to move as if you were climbing. You can move up or down as part of your move.  When the spell ends, you float gently to the ground if you are still aloft.</shortDescription>
                        <context/>
                    </effect>
                </feature>
            </or>
            <or name="beast">
                <feature>
                    <name>Beast Speech</name>
                    <shortDescription>You can cast speak with animals at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Animals</name>
                        <shortDescription>You have the ability to comprehend and verbally communicate with beasts for the duration. The knowledge and awareness of many beasts is limited by their intelligence, but at minimum, beasts can give you information about nearby locations and monsters, including whatever they can perceive or have perceived within the past day. You might be able to persuade a beast to perform a small favor for you, at the GM’s discretion.</shortDescription>
                        <context>LANGUAGES</context>
                    </effect>
                </feature>
            </or>
            <or name="Influence">
                <feature>
                    <name>Beguiling Influence</name>
                    <shortDescription>You gain proficiency in the Deception and Persuasion skills.</shortDescription>
                    <skills>
                        <proficiency>Deception</proficiency>
                        <proficiency>Persuasion</proficiency>
                    </skills>
                </feature>
            </or>
            <or name="Whispers">
                <!-- 7th level -->
                <feature>
                    <name>Bewitching Whispers</name>
                    <shortDescription>You can cast compulsion once using a warlock spell slot. You can’t do so again until you finish a long rest</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <uses>1</uses>
                    <refreshes>long_rest</refreshes>
                    <effect>
                        <name>Compulsion</name>
                        <shortDescription></shortDescription>
                        <context></context>
                    </effect>
                </feature>
            </or>
            <or name="book">
                <!-- 3rd level -->
                <feature>
                    <name>Book of Ancient Secrets</name>
                    <shortDescription>Prerequisite: Pact of the Tome feature
                        You can now inscribe magical rituals in your Book of Shadows. Choose two 1st-level spells that have the ritual tag from any class’s spell list (the two needn’t be from the same list). The spells appear in the book and don’t count against the number of spells you know. With your Book of Shadows in hand, you can cast the chosen spells as rituals. You can’t cast the spells except as rituals, unless you’ve learned them by some other means. You can also cast a warlock spell you know as a ritual if it has the ritual tag.
                        On your adventures, you can add other ritual spells to your Book of Shadows. When you find such a spell, you can add it to the book if the spell’s level is equal to or less than half your warlock level (rounded up) and if you can spare the time to transcribe the spell. For each level of the spell, the transcription process takes 2 hours and costs 50 gp for the rare inks needed to inscribe it
                    </shortDescription>
                </feature>
                <!-- TODO do these spells get picked up? -->
                <spells>
                    <spell known="false" ritual="true" maxLevel="1" />
                    <spell known="false" ritual="true" maxLevel="1"/>
                </spells>
            </or>
            <or name="chains">
                <!-- 15th level -->
                <feature>
                    <name>Chains of Carceri</name>
                    <shortDescription>You can cast hold monster at will—targeting a celestial, fiend, or elemental—without expending a spell slot or material components. You must finish a long rest before you can use this invocation on the same creature again.</shortDescription>
                </feature>
            </or>
            <or name="sight">
                <feature>
                    <name>Devil's Sight</name>
                    <shortDescription>You can see normally in darkness, both magical and nonmagical, to a distance of 120 feet.</shortDescription>
                </feature>
            </or>
            <or name="word">
                <!-- 7th level -->
                <feature>
                    <name>Dreadful Word</name>
                    <shortDescription>You can cast confusion once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                    <effect>
                        <name>Confusion</name>
                        <shortDescription>For up to 1 minute, while concentrating, this spell assaults and twists creatures' minds, spawning delusions and provoking uncontrolled action. Each creature in a 10 foot radius sphere centered on a point you choose within 90 feet must succeed on a Wisdom saving throw against your warlock spell DC (8 + proficiency bonus + charisma modifier) when you cast this spell or be affected by it.
                            An affected target can't take reactions and must roll a d10 at the start of each of its turns to determine its behavior for that turn.
                            d10       Behavior
                            1         The creature uses all its movement to move in a random direction. To determine the direction, roll a d8 and assign a direction to each die face. The creature doesn't take an action this turn.
                            2-6       The creature doesn't move or take actions this turn.
                            7-8       The creature uses its action to make a melee attack against a randomly determined creature within its reach. If there is no creature within its reach, the creature does nothing this turn.
                            9-10      The creature can act and move normally.
                            At the end of each of its turns, an affected target can make a Wisdom saving throw. If it succeeds, this effect ends for the target.
                            Higher Level. When you cast this spell using a spell slot of 5th level, the radius of the sphere increases to 15 feet.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="detect">
                <feature>
                    <name>Eldritch Sight</name>
                    <shortDescription>You can cast detect magic at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Detect Magic</name>
                        <shortDescription>For up to 10 minutes while concentrating, you sense the presence of magic within 30 feet of you. If you sense magic in this way, you can use your action to see a faint aura around any visible creature or object in the area that bears magic, and you learn its school of magic, if any.
                            The spell can penetrate most barriers, but it is blocked by 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood or dirt.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="spear">
                <feature>
                    <name>Eldritch Spear</name>
                    <shortDescription>When you cast Eldritch Blast, its range is 300 feet.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="runekeeper">
                <feature>
                    <name>Eyes of the Rune Keeper</name>
                    <shortDescription>You can read all writing</shortDescription>
                    <context>LANGUAGES</context>
                </feature>
            </or>
            <or name="vigor">
                <feature>
                    <name>Fiendish Vigor</name>
                    <shortDescription>You can cast false life on yourself at will as a 1st-level spell, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>False Life</name>
                        <shortDescription>Bolstering yourself with a necromantic facsimile of life, you gain 1d4 + 4 temporary hit points for an hour.</shortDescription>
                        <!-- TODO add temp hp -->
                        <context>HIT_POINTS</context>
                    </effect>
                    <context>HIT_POINTS</context>
                </feature>
            </or>
            <or name="twominds">
                <feature>
                    <name>Gaze of Two Minds</name>
                    <shortDescription>You can use your action to touch a willing humanoid and perceive through its senses until the end of your next turn. As long as the creature is on the same plane of existence as you, you can use your action on subsequent turns to maintain this connection, extending the duration until the end of your next turn. While perceiving through the other creature’s senses, you benefit from any special senses possessed by that creature, and you are blinded and deafened to your own surroundings.</shortDescription>
                </feature>
            </or>
            <or name="lifedrinker">
                <!-- 12th level -->
                <feature>
                    <name>Lifedrinker</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Blade	feature
                        When you hit a creature with your pact weapon, the creature takes extra necrotic damage equal to your Charisma modifier (minimum 1).</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            <or name="manyfaces">
                <feature>
                    <name>Mask of Many Faces</name>
                    <shortDescription>You can use an action and cast Disguise Self at will, without expending a spell slot, which lasts for 1 hour.</shortDescription>
                    <effect>
                        <name>Disguise Self</name>
                        <shortDescription>You make yourself—including your clothing, armor, weapons, and other belongings on your person— look different until the spell ends in 1 hour or until you use your action to dismiss it. You can seem 1 foot shorter or taller and can appear thin, fat, or in between. You can’t change your body type, so you must adopt a form that has the same basic arrangement of limbs. Otherwise, the extent of the illusion is up to you.
                            The changes wrought by this spell fail to hold up to physical inspection. For example, if you use this spell to add a hat to your outfit, objects pass through the hat, and anyone who touches it would feel nothing or would feel your head and hair. If you use this spell to appear thinner than you are, the hand of someone who reaches out to touch you would bump into you while it was seemingly still in midair.
                            To discern that you are disguised, a creature can use its action to inspect your appearance and must succeed on an Intelligence (Investigation) check against your spell save DC (8 + proficiency bonus + charisma modifier).</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="myriadforms">
                <!-- 15th level -->
                <feature>
                    <name>Master of Myriad Forms</name>
                    <shortDescription>You can spend an action and cast alter self at will, without expending a spell slot, for up to an hour while concentrating.</shortDescription>
                    <effect actionName="Aquatic Adaptation">
                        <name>Aquatic Adaptation</name>
                        <actionDescription>You adapt your body to an aquatic environment.</actionDescription>
                        <shortDescription>For one hour while concentrating, you have sprouted gills and grow webbing between your fingers. You can breathe underwater and gain a swimming speed equal to your walking speed.</shortDescription>
                        <speed type="swim">=speed('walk')</speed>
                        <context>SPEED</context>
                    </effect>
                    <effect actionName="Change Appearance">
                        <name>Changed Appearance</name>
                        <actionDescription>You transform your appearance.</actionDescription>
                        <shortDescription>For one hour while concentrating, you decide what you look like, including your height, weight, facial features, sound of your voice, hair length, coloration, and distinguishing characteristics, if any. You can make yourself appear as a member of another race, though none of your statistics change. You also can’t appear as a creature of a different size than you, and your basic shape stays the same; if you’re bipedal, you can’t use this spell to become quadrupedal, for instance. At any time for the duration of the spell, you can use your action to change your appearance in this way again.</shortDescription>
                        <context></context>
                    </effect>
                    <effect actionName="Natural Weapons">
                        <name>Natural Weapons: $name</name>
                        <id>Natural Weapons</id>
                        <variable name="name" prompt="Choose natural weapon">Claws, Fangs, Spines, Horns, Other</variable>
                        <actionDescription>You grow claws, fangs, spines, or horns.</actionDescription>
                        <shortDescription>For one hour while concentrating, you grow $name. Your unarmed strikes deal 1d6 bludgeoning, piercing, or slashing damage, as appropriate to the natural weapon you chose, and you are proficient with your unarmed strikes. Finally, the natural weapon is magic and you have a +1 bonus to the attack and damage rolls you make using it.</shortDescription>
                        <!-- TODO adjust the unarmed strike "weapon" - -->
                        <context>WEAPON_ATTACK</context>
                    </effect>
                </feature>
            </or>
            <or name="minions">
                <!-- 9th level -->
                <feature>
                    <name>Minions of Chaos</name>
                    <shortDescription>You can cast conjure elemental once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="miremind">
                <!-- 5th level -->
                <feature>
                    <name>Mire the Mind</name>
                    <shortDescription>You can cast slow once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="mistyvisions">
                <feature>
                    <name>Misty Visions</name>
                    <shortDescription>You can use an action and cast silent image at will, without expending a spell slot or material components, that lasts up to 10 minutes while concentrating.</shortDescription>
                    <effect>
                        <name>Silent Image</name>
                        <shortDescription>You create the image of an object, a creature, or some other visible phenomenon that is no larger than a 15-foot cube. The image appears at a spot within range and lasts for the duration. The image is purely visual; it isn’t accompanied by sound, smell, or other sensory effects.
                            You can use your action to cause the image to move to any spot within range. As the image changes location, you can alter its appearance so that its movements appear natural for the image. For example, if you create an image of a creature and move it, you can alter the image so that it appears to be walking.
                            Physical interaction with the image reveals it to be an illusion, because things can pass through it. A creature that uses its action to examine the image can determine that it is an illusion with a successful Intelligence (Investigation) check against your spell save DC. If a creature discerns the illusion for what it is, the creature can see through the image</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="shadows">
                <!-- 5th level -->
                <feature>
                    <name>One with the Shadows</name>
                    <shortDescription>When you are in an area of dim light or darkness, you can use your action to become invisible until you move or take an action or a reaction.</shortDescription>
                </feature>
            </or>
            <or name="leap">
                <!-- 9th level -->
                <feature>
                    <name>Otherworldy Leap</name>
                    <shortDescription>You can use your action and cast jump on yourself without expending a spell slot or material components, for 1 minute.</shortDescription>
                    <effect>
                        <name>Jump</name>
                        <shortDescription>Your jump distance is tripled until the spell ends after 1 minute.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="repelling">
                <feature>
                    <name>Repelling Blast</name>
                    <shortDescription>When you hit a creature with eldritch blast, you can push the creature up to 10 feet away from you in a straight line.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="sculptor">
                <!--  7th level -->
                <feature>
                    <name>Sculptor of Flesh</name>
                    <shortDescription>You can cast polymorph once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Polymorph</name>
                        <shortDescription>This spell transforms a creature that you can see within range into a new form for up to an hour while concentrating. An unwilling creature must make a Wisdom saving throw to avoid the effect. The spell has no effect on a shapechanger or a creature with 0 hit points.
                            The transformation lasts for the duration, or until the target drops to 0 hit points or dies. The new form can be any beast whose challenge rating is equal to or less than the target’s (or the target’s level, if it doesn’t have a challenge rating). The target’s game statistics, including mental ability scores, are replaced by the statistics of the chosen beast. It retains its alignment and personality.
                            The target assumes the hit points of its new form. When it reverts to its normal form, the creature returns to the number of hit points it had before it transformed. If it reverts as a result of dropping to 0 hit points, any excess damage carries over to its normal form. As long as the excess damage doesn’t reduce the creature’s normal form to 0 hit points, it isn’t knocked unconscious.
                            The creature is limited in the actions it can perform by the nature of its new form, and it can’t speak, cast spells, or take any other action that requires hands or speech.
                            The target’s gear melds into the new form. The creature can’t activate, use, wield, or otherwise benefit from any of its equipment.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="illomen">
                <!-- 5th level -->
                <feature>
                    <name>Sign of Ill Omen</name>
                    <shortDescription>You can use an action and cast bestow curse once using a warlock spell slot. You can’t do so again until you finish a long rest.
                        You touch a creature, and that creature must succeed on a Wisdom saving throw against your spell save DC (8 + proficiency bonus + charisma modifier) or become cursed for the duration of the spell for a minute, while concentrating.
                        A remove curse spell ends this effect. At the GM’s option, you may choose an alternative curse effect, but it should be no more powerful than those described above. The GM has final say on such a curse’s effect.
                        When you cast this spell, choose the nature of the curse from the following:</shortDescription>
                    <effect>
                        <name>Disadvantaged Ability Score: $ability</name>
                        <id>Disadvantaged Ability Score</id>
                        <variable name="ability" prompt="Choose cursed Ability">Strength, Dexterity, Constitution, Wisdom, Intelligence, Charisma</variable>
                        <actionDescription>The target has disadvantage on ability checks and saving throws for a chosen ability.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target is cursed and has disadvantage on ability checks and saving throws made with $ability.</shortDescription>
                    </effect>
                    <effect>
                        <name>Disadvantaged Attack Rolls</name>
                        <actionDescription>The target has disadvantage on attack rolls against you.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the  target has disadvantage on attack rolls against you.</shortDescription>
                    </effect>
                    <effect>
                        <name>Inaction</name>
                        <actionDescription>The target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</shortDescription>
                    </effect>
                    <effect>
                        <name>Extra Damage</name>
                        <actionDescription>Your attacks and spells deal an extra 1d8 necrotic damage to the target.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, your attacks and spells deal an extra 1d8 necrotic damage to the target.</shortDescription>
                        <context>SPELL_CAST,WEAPON_ATTACK</context>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thief">
                <feature>
                    <name>Thief of Five Fates</name>
                    <shortDescription>You can cast bane once using a warlock spell slot. This will cause 3 + spell slot level creatures within 30 feet that fail a Charisma saving throw against your spell casting DC () to subtract a 1d4 from attack rolls and saving throws for up to 1 minute, while concentrating. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Bane</name>
                        <shortDescription>Up to three creatures of your choice that you can see within range must make Charisma saving throws. Whenever a target that fails this saving throw makes an attack roll or a saving throw before the spell ends, the target must roll a d4 and subtract the number rolled from the attack roll or saving throw.
                            At Higher Levels. When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thirsting_blade">
                <!-- 5th level -->
                <feature>
                    <name>Thirsting Blade</name>
                    <shortDescription>Prerequisite: Pact of the Blade
                        You can attack with your pact weapon twice, instead of once, whenever you take the Attack action on your turn.</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            <or name="DistantRealms">
                <!-- 15th level -->
                <feature>
                    <name>Visions of Distant Realms</name>
                    <shortDescription>You can cast Arcane Eye at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Arcane Eye</name>
                        <shortDescription>You create an invisible, magical eye within range that hovers in the air for the duration.
                            You mentally receive visual information from the eye, which has normal vision and darkvision out to 30 feet. The eye can look in every direction.
                            As an action, you can move the eye up to 30 feet in any direction. There is no limit to how far away from you the eye can move, but it can’t enter another plane of existence. A solid barrier blocks the eye’s movement, but the eye can pass through an opening as small as 1 inch in diameter.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="voiceChainMaster">
                <feature>
                    <name>Voice of the Chain Master</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Chain	feature
                        You can communicate telepathically with your familiar and perceive through your familiar’s senses as long as you are on the same plane of existence. Additionally, while perceiving through your familiar’s senses, you can also speak through your familiar in your own voice, even if your familiar is normally incapable of speech.</shortDescription>
                </feature>
            </or>
            <or name="whispersGrave">
                <!-- 9th level -->
                <feature>
                    <name>Whispers of the Grave</name>
                    <shortDescription>You can cast Speak with Dead at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Dead</name>
                        <shortDescription>You grant the semblance of life and intelligence to a corpse of your choice within range, allowing it to answer the questions you pose. The corpse must still have a mouth and can’t be undead. The spell fails if the corpse was the target of this spell within the last 10 days.
                            Until the spell ends in 10 minutes, you can ask the corpse up to five questions. The corpse knows only what it knew in life, including the languages it knew. Answers are usually brief, cryptic, or repetitive, and the corpse is under no compulsion to offer a truthful answer if you are hostile to it or it recognizes you as an enemy. This spell doesn’t return the creature’s soul to its body, only its animating spirit. Thus, the corpse can’t learn new information, doesn’t comprehend anything that has happened since it died, and can’t speculate about future events.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="witchSight">
                <!-- 15th level -->
                <feature>
                    <name>Witch Sight</name>
                    <shortDescription>You can see the true form of any shapechanger or creature concealed by illusion or transmutation magic while the creature is within 30 feet of you and within line of sight.</shortDescription>
                </feature>
            </or>
        </choose>


    </level>

    <level value="17">
        <spells>
            <known>14</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="5">4</level>
            </slots>
        </spells>
    </level>

    <level value="18">

        <choose name="invocations" number="1" title="Choose an additional Eldritch Invocation">
            <or name="blast">
                <feature>
                    <name>Agonizing Blast</name>
                    <shortDescription>When you cast Eldritch Blast, add your Charisma modifier to the damage it deals on a hit.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="shadows">
                <feature>
                    <name>Armor of Shadows</name>
                    <shortDescription>You can cast mage armor on yourself (AC= 13 + dexterity modifier) at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Mage Armor</name>
                        <shortDescription>A protective magical force surrounds you until the spell ends, after 8 hours. Your base AC becomes 13 + your Dexterity modifier. The spell ends if you don armor or if you dismiss the spell as an action.</shortDescription>
                        <ac>=13 + dexterityMod</ac>
                        <context>ARMOR_CLASS</context>
                    </effect>
                </feature>
            </or>
            <or name="ascendant" >
                <!-- 9th level -->
                <feature>
                    <name>Ascendant Step</name>
                    <shortDescription>You can cast levitate on yourself at will, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>Levitate</name>
                        <shortDescription>You rise vertically, up to 20 feet, and remain suspended there for up to 10 minutes. The spell can levitate a target that weighs up to 500 pounds. You can move only by pushing or pulling against a fixed object or surface within reach (such as a wall or a ceiling), which allows you to move as if you were climbing. You can move up or down as part of your move.  When the spell ends, you float gently to the ground if you are still aloft.</shortDescription>
                        <context/>
                    </effect>
                </feature>
            </or>
            <or name="beast">
                <feature>
                    <name>Beast Speech</name>
                    <shortDescription>You can cast speak with animals at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Animals</name>
                        <shortDescription>You have the ability to comprehend and verbally communicate with beasts for the duration. The knowledge and awareness of many beasts is limited by their intelligence, but at minimum, beasts can give you information about nearby locations and monsters, including whatever they can perceive or have perceived within the past day. You might be able to persuade a beast to perform a small favor for you, at the GM’s discretion.</shortDescription>
                        <context>LANGUAGES</context>
                    </effect>
                </feature>
            </or>
            <or name="Influence">
                <feature>
                    <name>Beguiling Influence</name>
                    <shortDescription>You gain proficiency in the Deception and Persuasion skills.</shortDescription>
                    <skills>
                        <proficiency>Deception</proficiency>
                        <proficiency>Persuasion</proficiency>
                    </skills>
                </feature>
            </or>
            <or name="Whispers">
                <!-- 7th level -->
                <feature>
                    <name>Bewitching Whispers</name>
                    <shortDescription>You can cast compulsion once using a warlock spell slot. You can’t do so again until you finish a long rest</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <uses>1</uses>
                    <refreshes>long_rest</refreshes>
                    <effect>
                        <name>Compulsion</name>
                        <shortDescription></shortDescription>
                        <context></context>
                    </effect>
                </feature>
            </or>
            <or name="book">
                <!-- 3rd level -->
                <feature>
                    <name>Book of Ancient Secrets</name>
                    <shortDescription>Prerequisite: Pact of the Tome feature
                        You can now inscribe magical rituals in your Book of Shadows. Choose two 1st-level spells that have the ritual tag from any class’s spell list (the two needn’t be from the same list). The spells appear in the book and don’t count against the number of spells you know. With your Book of Shadows in hand, you can cast the chosen spells as rituals. You can’t cast the spells except as rituals, unless you’ve learned them by some other means. You can also cast a warlock spell you know as a ritual if it has the ritual tag.
                        On your adventures, you can add other ritual spells to your Book of Shadows. When you find such a spell, you can add it to the book if the spell’s level is equal to or less than half your warlock level (rounded up) and if you can spare the time to transcribe the spell. For each level of the spell, the transcription process takes 2 hours and costs 50 gp for the rare inks needed to inscribe it
                    </shortDescription>
                </feature>
                <!-- TODO do these spells get picked up? -->
                <spells>
                    <spell known="false" ritual="true" maxLevel="1" />
                    <spell known="false" ritual="true" maxLevel="1"/>
                </spells>
            </or>
            <or name="chains">
                <!-- 15th level -->
                <feature>
                    <name>Chains of Carceri</name>
                    <shortDescription>You can cast hold monster at will—targeting a celestial, fiend, or elemental—without expending a spell slot or material components. You must finish a long rest before you can use this invocation on the same creature again.</shortDescription>
                </feature>
            </or>
            <or name="sight">
                <feature>
                    <name>Devil's Sight</name>
                    <shortDescription>You can see normally in darkness, both magical and nonmagical, to a distance of 120 feet.</shortDescription>
                </feature>
            </or>
            <or name="word">
                <!-- 7th level -->
                <feature>
                    <name>Dreadful Word</name>
                    <shortDescription>You can cast confusion once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                    <effect>
                        <name>Confusion</name>
                        <shortDescription>For up to 1 minute, while concentrating, this spell assaults and twists creatures' minds, spawning delusions and provoking uncontrolled action. Each creature in a 10 foot radius sphere centered on a point you choose within 90 feet must succeed on a Wisdom saving throw against your warlock spell DC (8 + proficiency bonus + charisma modifier) when you cast this spell or be affected by it.
                            An affected target can't take reactions and must roll a d10 at the start of each of its turns to determine its behavior for that turn.
                            d10       Behavior
                            1         The creature uses all its movement to move in a random direction. To determine the direction, roll a d8 and assign a direction to each die face. The creature doesn't take an action this turn.
                            2-6       The creature doesn't move or take actions this turn.
                            7-8       The creature uses its action to make a melee attack against a randomly determined creature within its reach. If there is no creature within its reach, the creature does nothing this turn.
                            9-10      The creature can act and move normally.
                            At the end of each of its turns, an affected target can make a Wisdom saving throw. If it succeeds, this effect ends for the target.
                            Higher Level. When you cast this spell using a spell slot of 5th level, the radius of the sphere increases to 15 feet.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="detect">
                <feature>
                    <name>Eldritch Sight</name>
                    <shortDescription>You can cast detect magic at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Detect Magic</name>
                        <shortDescription>For up to 10 minutes while concentrating, you sense the presence of magic within 30 feet of you. If you sense magic in this way, you can use your action to see a faint aura around any visible creature or object in the area that bears magic, and you learn its school of magic, if any.
                            The spell can penetrate most barriers, but it is blocked by 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood or dirt.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="spear">
                <feature>
                    <name>Eldritch Spear</name>
                    <shortDescription>When you cast Eldritch Blast, its range is 300 feet.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="runekeeper">
                <feature>
                    <name>Eyes of the Rune Keeper</name>
                    <shortDescription>You can read all writing</shortDescription>
                    <context>LANGUAGES</context>
                </feature>
            </or>
            <or name="vigor">
                <feature>
                    <name>Fiendish Vigor</name>
                    <shortDescription>You can cast false life on yourself at will as a 1st-level spell, without expending a spell slot or material components.</shortDescription>
                    <effect>
                        <name>False Life</name>
                        <shortDescription>Bolstering yourself with a necromantic facsimile of life, you gain 1d4 + 4 temporary hit points for an hour.</shortDescription>
                        <!-- TODO add temp hp -->
                        <context>HIT_POINTS</context>
                    </effect>
                    <context>HIT_POINTS</context>
                </feature>
            </or>
            <or name="twominds">
                <feature>
                    <name>Gaze of Two Minds</name>
                    <shortDescription>You can use your action to touch a willing humanoid and perceive through its senses until the end of your next turn. As long as the creature is on the same plane of existence as you, you can use your action on subsequent turns to maintain this connection, extending the duration until the end of your next turn. While perceiving through the other creature’s senses, you benefit from any special senses possessed by that creature, and you are blinded and deafened to your own surroundings.</shortDescription>
                </feature>
            </or>
            <or name="lifedrinker">
                <!-- 12th level -->
                <feature>
                    <name>Lifedrinker</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Blade	feature
                        When you hit a creature with your pact weapon, the creature takes extra necrotic damage equal to your Charisma modifier (minimum 1).</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            <or name="manyfaces">
                <feature>
                    <name>Mask of Many Faces</name>
                    <shortDescription>You can use an action and cast Disguise Self at will, without expending a spell slot, which lasts for 1 hour.</shortDescription>
                    <effect>
                        <name>Disguise Self</name>
                        <shortDescription>You make yourself—including your clothing, armor, weapons, and other belongings on your person— look different until the spell ends in 1 hour or until you use your action to dismiss it. You can seem 1 foot shorter or taller and can appear thin, fat, or in between. You can’t change your body type, so you must adopt a form that has the same basic arrangement of limbs. Otherwise, the extent of the illusion is up to you.
                            The changes wrought by this spell fail to hold up to physical inspection. For example, if you use this spell to add a hat to your outfit, objects pass through the hat, and anyone who touches it would feel nothing or would feel your head and hair. If you use this spell to appear thinner than you are, the hand of someone who reaches out to touch you would bump into you while it was seemingly still in midair.
                            To discern that you are disguised, a creature can use its action to inspect your appearance and must succeed on an Intelligence (Investigation) check against your spell save DC (8 + proficiency bonus + charisma modifier).</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="myriadforms">
                <!-- 15th level -->
                <feature>
                    <name>Master of Myriad Forms</name>
                    <shortDescription>You can spend an action and cast alter self at will, without expending a spell slot, for up to an hour while concentrating.</shortDescription>
                    <effect actionName="Aquatic Adaptation">
                        <name>Aquatic Adaptation</name>
                        <actionDescription>You adapt your body to an aquatic environment.</actionDescription>
                        <shortDescription>For one hour while concentrating, you have sprouted gills and grow webbing between your fingers. You can breathe underwater and gain a swimming speed equal to your walking speed.</shortDescription>
                        <speed type="swim">=speed('walk')</speed>
                        <context>SPEED</context>
                    </effect>
                    <effect actionName="Change Appearance">
                        <name>Changed Appearance</name>
                        <actionDescription>You transform your appearance.</actionDescription>
                        <shortDescription>For one hour while concentrating, you decide what you look like, including your height, weight, facial features, sound of your voice, hair length, coloration, and distinguishing characteristics, if any. You can make yourself appear as a member of another race, though none of your statistics change. You also can’t appear as a creature of a different size than you, and your basic shape stays the same; if you’re bipedal, you can’t use this spell to become quadrupedal, for instance. At any time for the duration of the spell, you can use your action to change your appearance in this way again.</shortDescription>
                        <context></context>
                    </effect>
                    <effect actionName="Natural Weapons">
                        <name>Natural Weapons: $name</name>
                        <id>Natural Weapons</id>
                        <variable name="name" prompt="Choose natural weapon">Claws, Fangs, Spines, Horns, Other</variable>
                        <actionDescription>You grow claws, fangs, spines, or horns.</actionDescription>
                        <shortDescription>For one hour while concentrating, you grow $name. Your unarmed strikes deal 1d6 bludgeoning, piercing, or slashing damage, as appropriate to the natural weapon you chose, and you are proficient with your unarmed strikes. Finally, the natural weapon is magic and you have a +1 bonus to the attack and damage rolls you make using it.</shortDescription>
                        <!-- TODO adjust the unarmed strike "weapon" - -->
                        <context>WEAPON_ATTACK</context>
                    </effect>
                </feature>
            </or>
            <or name="minions">
                <!-- 9th level -->
                <feature>
                    <name>Minions of Chaos</name>
                    <shortDescription>You can cast conjure elemental once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="miremind">
                <!-- 5th level -->
                <feature>
                    <name>Mire the Mind</name>
                    <shortDescription>You can cast slow once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="mistyvisions">
                <feature>
                    <name>Misty Visions</name>
                    <shortDescription>You can use an action and cast silent image at will, without expending a spell slot or material components, that lasts up to 10 minutes while concentrating.</shortDescription>
                    <effect>
                        <name>Silent Image</name>
                        <shortDescription>You create the image of an object, a creature, or some other visible phenomenon that is no larger than a 15-foot cube. The image appears at a spot within range and lasts for the duration. The image is purely visual; it isn’t accompanied by sound, smell, or other sensory effects.
                            You can use your action to cause the image to move to any spot within range. As the image changes location, you can alter its appearance so that its movements appear natural for the image. For example, if you create an image of a creature and move it, you can alter the image so that it appears to be walking.
                            Physical interaction with the image reveals it to be an illusion, because things can pass through it. A creature that uses its action to examine the image can determine that it is an illusion with a successful Intelligence (Investigation) check against your spell save DC. If a creature discerns the illusion for what it is, the creature can see through the image</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="shadows">
                <!-- 5th level -->
                <feature>
                    <name>One with the Shadows</name>
                    <shortDescription>When you are in an area of dim light or darkness, you can use your action to become invisible until you move or take an action or a reaction.</shortDescription>
                </feature>
            </or>
            <or name="leap">
                <!-- 9th level -->
                <feature>
                    <name>Otherworldy Leap</name>
                    <shortDescription>You can use your action and cast jump on yourself without expending a spell slot or material components, for 1 minute.</shortDescription>
                    <effect>
                        <name>Jump</name>
                        <shortDescription>Your jump distance is tripled until the spell ends after 1 minute.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="repelling">
                <feature>
                    <name>Repelling Blast</name>
                    <shortDescription>When you hit a creature with eldritch blast, you can push the creature up to 10 feet away from you in a straight line.</shortDescription>
                    <context>SPELL_CAST</context>
                </feature>
            </or>
            <or name="sculptor">
                <!--  7th level -->
                <feature>
                    <name>Sculptor of Flesh</name>
                    <shortDescription>You can cast polymorph once using a warlock spell slot. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Polymorph</name>
                        <shortDescription>This spell transforms a creature that you can see within range into a new form for up to an hour while concentrating. An unwilling creature must make a Wisdom saving throw to avoid the effect. The spell has no effect on a shapechanger or a creature with 0 hit points.
                            The transformation lasts for the duration, or until the target drops to 0 hit points or dies. The new form can be any beast whose challenge rating is equal to or less than the target’s (or the target’s level, if it doesn’t have a challenge rating). The target’s game statistics, including mental ability scores, are replaced by the statistics of the chosen beast. It retains its alignment and personality.
                            The target assumes the hit points of its new form. When it reverts to its normal form, the creature returns to the number of hit points it had before it transformed. If it reverts as a result of dropping to 0 hit points, any excess damage carries over to its normal form. As long as the excess damage doesn’t reduce the creature’s normal form to 0 hit points, it isn’t knocked unconscious.
                            The creature is limited in the actions it can perform by the nature of its new form, and it can’t speak, cast spells, or take any other action that requires hands or speech.
                            The target’s gear melds into the new form. The creature can’t activate, use, wield, or otherwise benefit from any of its equipment.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="illomen">
                <!-- 5th level -->
                <feature>
                    <name>Sign of Ill Omen</name>
                    <shortDescription>You can use an action and cast bestow curse once using a warlock spell slot. You can’t do so again until you finish a long rest.
                        You touch a creature, and that creature must succeed on a Wisdom saving throw against your spell save DC (8 + proficiency bonus + charisma modifier) or become cursed for the duration of the spell for a minute, while concentrating.
                        A remove curse spell ends this effect. At the GM’s option, you may choose an alternative curse effect, but it should be no more powerful than those described above. The GM has final say on such a curse’s effect.
                        When you cast this spell, choose the nature of the curse from the following:</shortDescription>
                    <effect>
                        <name>Disadvantaged Ability Score: $ability</name>
                        <id>Disadvantaged Ability Score</id>
                        <variable name="ability" prompt="Choose cursed Ability">Strength, Dexterity, Constitution, Wisdom, Intelligence, Charisma</variable>
                        <actionDescription>The target has disadvantage on ability checks and saving throws for a chosen ability.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target is cursed and has disadvantage on ability checks and saving throws made with $ability.</shortDescription>
                    </effect>
                    <effect>
                        <name>Disadvantaged Attack Rolls</name>
                        <actionDescription>The target has disadvantage on attack rolls against you.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the  target has disadvantage on attack rolls against you.</shortDescription>
                    </effect>
                    <effect>
                        <name>Inaction</name>
                        <actionDescription>The target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, the target must make a Wisdom saving throw at the start of each of its turns. If it fails, it wastes its action that turn doing nothing</shortDescription>
                    </effect>
                    <effect>
                        <name>Extra Damage</name>
                        <actionDescription>Your attacks and spells deal an extra 1d8 necrotic damage to the target.</actionDescription>
                        <shortDescription>For 1 minute, while concentrating, your attacks and spells deal an extra 1d8 necrotic damage to the target.</shortDescription>
                        <context>SPELL_CAST,WEAPON_ATTACK</context>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thief">
                <feature>
                    <name>Thief of Five Fates</name>
                    <shortDescription>You can cast bane once using a warlock spell slot. This will cause 3 + spell slot level creatures within 30 feet that fail a Charisma saving throw against your spell casting DC () to subtract a 1d4 from attack rolls and saving throws for up to 1 minute, while concentrating. You can’t do so again until you finish a long rest.</shortDescription>
                    <effect>
                        <name>Bane</name>
                        <shortDescription>Up to three creatures of your choice that you can see within range must make Charisma saving throws. Whenever a target that fails this saving throw makes an attack roll or a saving throw before the spell ends, the target must roll a d4 and subtract the number rolled from the attack roll or saving throw.
                            At Higher Levels. When you cast this spell using a spell slot of 2nd level or higher, you can target one additional creature for each slot level above 1st.</shortDescription>
                    </effect>
                    <useSpellSlot >true</useSpellSlot>
                    <refreshes>long_rest</refreshes>
                    <uses>1</uses>
                </feature>
            </or>
            <or name="thirsting_blade">
                <!-- 5th level -->
                <feature>
                    <name>Thirsting Blade</name>
                    <shortDescription>Prerequisite: Pact of the Blade
                        You can attack with your pact weapon twice, instead of once, whenever you take the Attack action on your turn.</shortDescription>
                    <context>WEAPON_ATTACK</context>
                </feature>
            </or>
            <or name="DistantRealms">
                <!-- 15th level -->
                <feature>
                    <name>Visions of Distant Realms</name>
                    <shortDescription>You can cast Arcane Eye at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Arcane Eye</name>
                        <shortDescription>You create an invisible, magical eye within range that hovers in the air for the duration.
                            You mentally receive visual information from the eye, which has normal vision and darkvision out to 30 feet. The eye can look in every direction.
                            As an action, you can move the eye up to 30 feet in any direction. There is no limit to how far away from you the eye can move, but it can’t enter another plane of existence. A solid barrier blocks the eye’s movement, but the eye can pass through an opening as small as 1 inch in diameter.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="voiceChainMaster">
                <feature>
                    <name>Voice of the Chain Master</name>
                    <shortDescription>Prerequisite:	Pact	of	the	Chain	feature
                        You can communicate telepathically with your familiar and perceive through your familiar’s senses as long as you are on the same plane of existence. Additionally, while perceiving through your familiar’s senses, you can also speak through your familiar in your own voice, even if your familiar is normally incapable of speech.</shortDescription>
                </feature>
            </or>
            <or name="whispersGrave">
                <!-- 9th level -->
                <feature>
                    <name>Whispers of the Grave</name>
                    <shortDescription>You can cast Speak with Dead at will, without expending a spell slot.</shortDescription>
                    <effect>
                        <name>Speak with Dead</name>
                        <shortDescription>You grant the semblance of life and intelligence to a corpse of your choice within range, allowing it to answer the questions you pose. The corpse must still have a mouth and can’t be undead. The spell fails if the corpse was the target of this spell within the last 10 days.
                            Until the spell ends in 10 minutes, you can ask the corpse up to five questions. The corpse knows only what it knew in life, including the languages it knew. Answers are usually brief, cryptic, or repetitive, and the corpse is under no compulsion to offer a truthful answer if you are hostile to it or it recognizes you as an enemy. This spell doesn’t return the creature’s soul to its body, only its animating spirit. Thus, the corpse can’t learn new information, doesn’t comprehend anything that has happened since it died, and can’t speculate about future events.</shortDescription>
                    </effect>
                </feature>
            </or>
            <or name="witchSight">
                <!-- 15th level -->
                <feature>
                    <name>Witch Sight</name>
                    <shortDescription>You can see the true form of any shapechanger or creature concealed by illusion or transmutation magic while the creature is within 30 feet of you and within line of sight.</shortDescription>
                </feature>
            </or>
        </choose>


    </level>


    <level value="19">
        <spells>
            <known>15</known>
            <slots>
                <refreshes>short rest</refreshes>
                <level value="5">4</level>
            </slots>
        </spells>
    </level>

</class>